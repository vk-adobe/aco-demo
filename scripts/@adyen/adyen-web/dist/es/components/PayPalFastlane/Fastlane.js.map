{"version":3,"file":"Fastlane.js","sources":["../../../../src/components/PayPalFastlane/Fastlane.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport { TxVariants } from '../tx-variants';\nimport FastlaneComponent from './components/FastlaneComponent';\nimport type { FastlaneConfiguration } from './types';\n\nclass Fastlane extends UIElement<FastlaneConfiguration> {\n    public static readonly type = TxVariants.fastlane;\n\n    protected static defaultProps = {\n        keepBrandsVisible: true\n    };\n\n    protected override formatData() {\n        return {\n            paymentMethod: {\n                type: Fastlane.type,\n                fastlaneData: btoa(\n                    JSON.stringify({\n                        fastlaneSessionId: this.props.fastlaneSessionId,\n                        tokenId: this.props.tokenId\n                    })\n                )\n            }\n        };\n    }\n\n    public override async isAvailable(): Promise<void> {\n        const { tokenId, lastFour, brand, email } = this.props;\n        if (tokenId && lastFour && brand && email) {\n            return Promise.resolve();\n        }\n        return Promise.reject();\n    }\n\n    public override get isValid(): boolean {\n        return true;\n    }\n\n    /**\n     * Used to display payment method logo within Drop-in\n     */\n    public override get icon(): string {\n        return this.props.icon ?? this.resources.getImage()('card');\n    }\n\n    /**\n     * Used to display the payment method supported brands within Drop-in\n     */\n    public get brands(): { icon: string; name: string }[] {\n        const { brands } = this.props;\n        return brands.map(brand => ({ icon: this.props.modules.resources.getImage()(brand), name: brand }));\n    }\n\n    render() {\n        return (\n            <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                <FastlaneComponent\n                    lastFour={this.props.lastFour}\n                    brand={this.props.brand}\n                    payButton={this.payButton}\n                    setComponentRef={this.setComponentRef}\n                    showPayButton={this.props.showPayButton}\n                />\n            </CoreProvider>\n        );\n    }\n}\n\nexport default Fastlane;\n"],"names":["Fastlane","UIElement","formatData","paymentMethod","type","fastlaneData","btoa","JSON","stringify","fastlaneSessionId","this","props","tokenId","isAvailable","lastFour","brand","email","Promise","resolve","reject","isValid","icon","resources","getImage","brands","map","modules","name","render","h","CoreProvider","i18n","loadingContext","FastlaneComponent","payButton","setComponentRef","showPayButton","_define_property","TxVariants","fastlane","defaultProps","keepBrandsVisible"],"mappings":"8ZAOA,MAAMA,UAAiBC,EAOAC,UAAAA,GACf,MAAO,CACHC,cAAe,CACXC,KAAMJ,EAASI,KACfC,aAAcC,KACVC,KAAKC,UAAU,CACXC,kBAAmBC,KAAKC,MAAMF,kBAC9BG,QAASF,KAAKC,MAAMC,YAKxC,CAEA,iBAAsBC,GAClB,MAAMD,QAAEA,EAAOE,SAAEA,EAAQC,MAAEA,EAAKC,MAAEA,GAAUN,KAAKC,MACjD,OAAIC,GAAWE,GAAYC,GAASC,EACzBC,QAAQC,UAEZD,QAAQE,QACnB,CAEA,WAAoBC,GAChB,OAAO,CACX,CAKA,QAAoBC,GAChB,OAAOX,KAAKC,MAAMU,MAAQX,KAAKY,UAAUC,UAAfb,CAA0B,OACxD,CAKA,UAAWc,GACP,MAAMA,OAAEA,GAAWd,KAAKC,MACxB,OAAOa,EAAOC,KAAIV,IAAU,CAAEM,KAAMX,KAAKC,MAAMe,QAAQJ,UAAUC,UAA7Bb,CAAwCK,GAAQY,KAAMZ,KAC9F,CAEAa,MAAAA,GACI,OACIC,EAACC,EAAAA,CAAaC,KAAMrB,KAAKC,MAAMoB,KAAMC,eAAgBtB,KAAKC,MAAMqB,eAAgBV,UAAWZ,KAAKY,WAC5FO,EAACI,EAAAA,CACGnB,SAAUJ,KAAKC,MAAMG,SACrBC,MAAOL,KAAKC,MAAMI,MAClBmB,UAAWxB,KAAKwB,UAChBC,gBAAiBzB,KAAKyB,gBACtBC,cAAe1B,KAAKC,MAAMyB,gBAI1C,EA3DAC,EADErC,EACqBI,OAAOkC,EAAWC,UAEzCF,EAHErC,EAGewC,eAAe,CAC5BC,mBAAmB"}