{"version":3,"file":"ApplePaySdkLoader.js","sources":["../../../../../src/components/ApplePay/services/ApplePaySdkLoader.ts"],"sourcesContent":["import Script from '../../../utils/Script';\nimport AdyenCheckoutError from '../../../core/Errors/AdyenCheckoutError';\n\nexport const APPLE_PAY_SDK_URL = 'https://applepay.cdn-apple.com/jsapi/1.latest/apple-pay-sdk.js';\n\nclass ApplePaySdkLoader {\n    private sdkLoadingPromise: Promise<void>;\n\n    public async load(): Promise<ApplePaySession> {\n        try {\n            const scriptElement = new Script(APPLE_PAY_SDK_URL, 'body', { crossOrigin: 'anonymous' });\n            this.sdkLoadingPromise = scriptElement.load();\n            await this.sdkLoadingPromise;\n            return window?.ApplePaySession;\n        } catch (error) {\n            throw new AdyenCheckoutError('SCRIPT_ERROR', 'ApplePaySDK failed to load', { cause: error });\n        }\n    }\n\n    public isSdkLoaded(): Promise<void> {\n        if (this.sdkLoadingPromise === undefined) {\n            return Promise.reject();\n        }\n\n        return this.sdkLoadingPromise;\n    }\n}\n\nexport default ApplePaySdkLoader;\n"],"names":["APPLE_PAY_SDK_URL","ApplePaySdkLoader","load","scriptElement","Script","crossOrigin","this","sdkLoadingPromise","window","ApplePaySession","error","AdyenCheckoutError","cause","isSdkLoaded","undefined","Promise","reject"],"mappings":"kGAGO,MAAMA,EAAoB,iEAEjC,MAAMC,EAGF,UAAaC,GACT,IACI,MAAMC,EAAgB,IAAIC,EAAOJ,EAAmB,OAAQ,CAAEK,YAAa,cAG3E,OAFAC,KAAKC,kBAAoBJ,EAAcD,aACjCI,KAAKC,kBACJC,QAAQC,eACnB,CAAE,MAAOC,GACL,MAAM,IAAIC,EAAmB,eAAgB,6BAA8B,CAAEC,MAAOF,GACxF,CACJ,CAEOG,WAAAA,GACH,YAA+BC,IAA3BR,KAAKC,kBACEQ,QAAQC,SAGZV,KAAKC,iBAChB,gCAnBA,KAAQA,yBAARD"}