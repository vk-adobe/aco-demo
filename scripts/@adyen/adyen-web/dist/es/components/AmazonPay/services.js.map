{"version":3,"file":"services.js","sources":["../../../../src/components/AmazonPay/services.ts"],"sourcesContent":["import { httpPost } from '../../core/Services/http';\nimport { AMAZONPAY_SIGN_STRING_ENDPOINT, AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT, AMAZONPAY_GET_CHECKOUT_DETAILS_ENDPOINT } from './config';\nimport { CheckoutDetailsRequest, PayloadJSON, UpdateAmazonCheckoutSessionRequest } from './types';\n\n/**\n * Calls the Sign String endpoint to the PayloadJSON string.\n * @param loadingContext - Loading context to be used in the call\n * @param clientKey - Key to be used as a public token\n * @param payloadJSON - Object to be signed\n * @returns A promise containing the response of the call\n */\nexport function getAmazonSignature(loadingContext: string, clientKey: string, payloadJSON: PayloadJSON): Promise<any> {\n    const options = {\n        loadingContext,\n        path: `${AMAZONPAY_SIGN_STRING_ENDPOINT}?clientKey=${clientKey}`\n    };\n\n    const request = { stringToSign: JSON.stringify(payloadJSON) };\n\n    return httpPost(options, request);\n}\n\n/**\n * Calls the getCheckoutDetails details to either get the shopper details or the decline flow URL.\n * @param loadingContext - Loading context to be used in the call\n * @param clientKey - Key to be used as a public token\n * @param request - Object to sent\n * @returns A promise containing the response of the call\n */\nexport function getCheckoutDetails(loadingContext: string, clientKey: string, request: CheckoutDetailsRequest): Promise<any> {\n    const options = {\n        loadingContext,\n        path: `${AMAZONPAY_GET_CHECKOUT_DETAILS_ENDPOINT}?clientKey=${clientKey}`\n    };\n\n    return httpPost(options, request);\n}\n\n/**\n * Calls the Update Checkout Session endpoint to create an order.\n * @param loadingContext - Loading context to be used in the call\n * @param clientKey - Key to be used as a public token\n * @param data -\n * @returns A promise containing the response of the call\n */\nexport function updateAmazonCheckoutSession(loadingContext: string, clientKey: string, data: UpdateAmazonCheckoutSessionRequest): Promise<any> {\n    const options = {\n        loadingContext,\n        path: `${AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT}?clientKey=${clientKey}`\n    };\n\n    return httpPost(options, data);\n}\n"],"names":["getAmazonSignature","loadingContext","clientKey","payloadJSON","options","path","AMAZONPAY_SIGN_STRING_ENDPOINT","request","stringToSign","JSON","stringify","httpPost","getCheckoutDetails","AMAZONPAY_GET_CHECKOUT_DETAILS_ENDPOINT","updateAmazonCheckoutSession","data","AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT"],"mappings":"iNAWO,SAASA,EAAmBC,EAAwBC,EAAmBC,GAC1E,MAAMC,EAAU,CACZH,iBACAI,KAAM,GAAGC,eAA4CJ,KAGnDK,EAAU,CAAEC,aAAcC,KAAKC,UAAUP,IAE/C,OAAOQ,EAASP,EAASG,EAC7B,CASO,SAASK,EAAmBX,EAAwBC,EAAmBK,GAM1E,OAAOI,EALS,CACZV,iBACAI,KAAM,GAAGQ,eAAqDX,KAGzCK,EAC7B,CASO,SAASO,EAA4Bb,EAAwBC,EAAmBa,GAMnF,OAAOJ,EALS,CACZV,iBACAI,KAAM,GAAGW,eAAwDd,KAG5Ca,EAC7B"}