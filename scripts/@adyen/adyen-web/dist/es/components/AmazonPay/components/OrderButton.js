import{createElement as e}from"../../../external/preact/dist/preact.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import t from"../../internal/Button/Button.js";import{updateAmazonCheckoutSession as o}from"../services.js";function n(n){const{i18n:a,loadingContext:i}=r();return this.createOrder=()=>{const{amazonCheckoutSessionId:e,amount:r,clientKey:t,chargePermissionType:a,publicKeyId:c,region:s,recurringMetadata:u,returnUrl:l}=n;o(i,t,{amount:r,chargePermissionType:a,checkoutResultReturnUrl:l,checkoutSessionId:e,publicKeyId:c,recurringMetadata:u,region:s}).then((e=>{if(!e?.action?.type)return console.error(e.errorMessage||"Could not get the AmazonPay URL");"redirect"===e.action.type&&window.location.assign(e.action.url)})).catch((e=>{n.onError&&n.onError(e,this.componentRef)}))},e(t,{classNameModifiers:["standalone","pay"],label:a.get("confirmPurchase"),onClick:this.createOrder})}export{n as default};
//# sourceMappingURL=OrderButton.js.map
