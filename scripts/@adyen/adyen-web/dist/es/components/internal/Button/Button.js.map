{"version":3,"file":"Button.js","sources":["../../../../../src/components/internal/Button/Button.tsx"],"sourcesContent":["import { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport Spinner from '../Spinner';\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport './Button.scss';\nimport { ButtonProps, ButtonState } from './types';\n\nclass Button extends Component<ButtonProps, ButtonState> {\n    public static defaultProps = {\n        status: 'default',\n        variant: 'primary',\n        disabled: false,\n        label: '',\n        inline: false,\n        target: '_self',\n        onClick: () => {}\n    };\n\n    public onClick = e => {\n        e.preventDefault();\n\n        if (!this.props.disabled) {\n            this.props.onClick(e, { complete: this.complete });\n        }\n    };\n\n    public complete = (delay = 1000) => {\n        this.setState({ completed: true });\n        setTimeout(() => {\n            this.setState({ completed: false });\n        }, delay);\n    };\n\n    public onKeyDown = (event: KeyboardEvent) => {\n        this.props.onKeyDown?.(event);\n    };\n\n    render() {\n        const { classNameModifiers = [], disabled, href, icon, inline, label, ariaLabel, status, variant, buttonRef }: ButtonProps = this.props;\n        const { completed } = this.state;\n        const { i18n } = useCoreContext();\n\n        const buttonIcon = icon ? <img className=\"adyen-checkout__button__icon\" src={icon} alt=\"\" aria-hidden=\"true\" /> : '';\n\n        const modifiers = [\n            ...classNameModifiers,\n            ...(variant !== 'primary' ? [variant] : []),\n            ...(inline ? ['inline'] : []),\n            ...(completed ? ['completed'] : []),\n            ...(status === 'loading' || status === 'redirect' ? ['loading'] : [])\n        ];\n\n        const buttonClasses = classNames(['adyen-checkout__button', ...modifiers.map(m => `adyen-checkout__button--${m}`)]);\n\n        const buttonStates = {\n            loading: (\n                <span className=\"adyen-checkout__button__content\">\n                    <Spinner size=\"medium\" inline />\n                    <span className={'adyen-checkout__button__text--sr-only'}>{i18n.get('loading')}</span>\n                </span>\n            ),\n            redirect: (\n                <span className=\"adyen-checkout__button__content\">\n                    <Spinner size=\"medium\" inline />\n                    {i18n.get('payButton.redirecting')}\n                </span>\n            ),\n            default: (\n                <span className=\"adyen-checkout__button__content\">\n                    {buttonIcon}\n                    <span className=\"adyen-checkout__button__text\">{label}</span>\n                </span>\n            )\n        };\n\n        const buttonText = buttonStates[status] || buttonStates.default;\n\n        if (href) {\n            return (\n                <a className={buttonClasses} href={href} disabled={disabled} target={this.props.target} rel={this.props.rel}>\n                    {buttonText}\n                </a>\n            );\n        }\n\n        return (\n            <button\n                ref={buttonRef}\n                className={buttonClasses}\n                type=\"button\"\n                disabled={disabled}\n                onClick={this.onClick}\n                onKeyDown={this.onKeyDown}\n                aria-label={ariaLabel}\n            >\n                {buttonText}\n                {status !== 'loading' && status !== 'redirect' && this.props.children}\n            </button>\n        );\n    }\n}\n\nexport default Button;\n"],"names":["Button","Component","render","classNameModifiers","disabled","href","icon","inline","label","ariaLabel","status","variant","buttonRef","this","props","completed","state","i18n","useCoreContext","buttonIcon","h","img","className","src","alt","aria-hidden","modifiers","buttonClasses","classNames","map","m","buttonStates","loading","span","Spinner","size","get","redirect","default","buttonText","a","target","rel","button","ref","type","onClick","onKeyDown","aria-label","children","super","args","_define_property","e","preventDefault","complete","delay","setState","setTimeout","event","defaultProps"],"mappings":"qWAOA,MAAMA,UAAeC,EA8BjBC,MAAAA,GACI,MAAMC,mBAAEA,EAAqB,GAAEC,SAAEA,EAAQC,KAAEA,EAAIC,KAAEA,EAAIC,OAAEA,EAAMC,MAAEA,EAAKC,UAAEA,EAASC,OAAEA,EAAMC,QAAEA,EAAOC,UAAEA,GAA2BC,KAAKC,OAC5HC,UAAEA,GAAcF,KAAKG,OACrBC,KAAEA,GAASC,IAEXC,EAAab,EAAOc,EAACC,MAAAA,CAAIC,UAAU,+BAA+BC,IAAKjB,EAAMkB,IAAI,GAAGC,cAAY,SAAY,GAE5GC,EAAY,IACXvB,KACa,YAAZQ,EAAwB,CAACA,GAAW,MACpCJ,EAAS,CAAC,UAAY,MACtBQ,EAAY,CAAC,aAAe,MACjB,YAAXL,GAAmC,aAAXA,EAAwB,CAAC,WAAa,IAGhEiB,EAAgBC,EAAW,CAAC,4BAA6BF,EAAUG,KAAIC,GAAK,2BAA2BA,QAEvGC,EAAe,CACjBC,QACIZ,EAACa,OAAAA,CAAKX,UAAU,mCACZF,EAACc,EAAAA,CAAQC,KAAK,SAAS5B,QAAAA,IACvBa,EAACa,OAAAA,CAAKX,UAAW,yCAA0CL,EAAKmB,IAAI,aAG5EC,SACIjB,EAACa,OAAAA,CAAKX,UAAU,mCACZF,EAACc,EAAAA,CAAQC,KAAK,SAAS5B,QAAAA,IACtBU,EAAKmB,IAAI,0BAGlBE,QACIlB,EAACa,OAAAA,CAAKX,UAAU,mCACXH,EACDC,EAACa,OAAAA,CAAKX,UAAU,gCAAgCd,KAKtD+B,EAAaR,EAAarB,IAAWqB,EAAaO,QAExD,OAAIjC,EAEIe,EAACoB,IAAAA,CAAElB,UAAWK,EAAetB,KAAMA,EAAMD,SAAUA,EAAUqC,OAAQ5B,KAAKC,MAAM2B,OAAQC,IAAK7B,KAAKC,MAAM4B,KACnGH,GAMTnB,EAACuB,SAAAA,CACGC,IAAKhC,EACLU,UAAWK,EACXkB,KAAK,SACLzC,SAAUA,EACV0C,QAASjC,KAAKiC,QACdC,UAAWlC,KAAKkC,UAChBC,aAAYvC,GAEX8B,EACW,YAAX7B,GAAmC,aAAXA,GAAyBG,KAAKC,MAAMmC,SAGzE,mBA5FJC,SAWIC,GAAAC,EAAAvC,KAAOiC,WAAUO,IACbA,EAAEC,iBAEGzC,KAAKC,MAAMV,UACZS,KAAKC,MAAMgC,QAAQO,EAAG,CAAEE,SAAU1C,KAAK0C,UAC3C,IAGJH,EAAOG,KAAAA,YAAW,CAACC,EAAQ,OACvB3C,KAAK4C,SAAS,CAAE1C,WAAW,IAC3B2C,YAAW,KACP7C,KAAK4C,SAAS,CAAE1C,WAAW,GAAM,GAClCyC,EAAAA,IAGPJ,EAAAvC,KAAOkC,aAAaY,IAChB9C,KAAKC,MAAMiC,YAAYY,EAAAA,KA1B3BP,EADEpD,EACY4D,eAAe,CACzBlD,OAAQ,UACRC,QAAS,UACTP,UAAU,EACVI,MAAO,GACPD,QAAQ,EACRkC,OAAQ,QACRK,QAAS"}