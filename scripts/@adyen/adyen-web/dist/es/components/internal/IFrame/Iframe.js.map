{"version":3,"file":"Iframe.js","sources":["../../../../../src/components/internal/IFrame/Iframe.tsx"],"sourcesContent":["import { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport './Iframe.scss';\n\ninterface IframeProps {\n    width?: string;\n    height?: string;\n    minWidth?: string;\n    minHeight?: string;\n    border?: string;\n    src?: string;\n    allow?: string;\n    name?: string;\n    title?: string;\n    classNameModifiers?: string[];\n    callback?: (contentWindow) => void;\n}\n\nclass Iframe extends Component<IframeProps> {\n    public static defaultProps = {\n        width: '0',\n        height: '0',\n        minWidth: '0',\n        minHeight: '0',\n        src: null,\n        allow: null,\n        title: 'components iframe',\n        classNameModifiers: []\n    };\n\n    private iframeEl;\n\n    iframeOnLoad() {\n        if (this.props.callback && typeof this.props.callback === 'function') {\n            this.props.callback(this.iframeEl.contentWindow);\n        }\n    }\n\n    componentDidMount() {\n        if (this.iframeEl.addEventListener) {\n            this.iframeEl.addEventListener('load', this.iframeOnLoad.bind(this), false);\n        } else if (this.iframeEl.attachEvent) {\n            // IE fallback\n            this.iframeEl.attachEvent('onload', this.iframeOnLoad.bind(this));\n        } else {\n            this.iframeEl.onload = this.iframeOnLoad.bind(this);\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.iframeEl.removeEventListener) {\n            this.iframeEl.removeEventListener('load', this.iframeOnLoad.bind(this), false);\n        } else if (this.iframeEl.detachEvent) {\n            // IE fallback\n            this.iframeEl.detachEvent('onload', this.iframeOnLoad.bind(this));\n        } else {\n            this.iframeEl.onload = null;\n        }\n    }\n\n    render({ name, src, width, height, minWidth, minHeight, allow, title, classNameModifiers }: IframeProps) {\n        const validClassNameModifiers = classNameModifiers.filter(m => !!m);\n\n        return (\n            <iframe\n                ref={ref => {\n                    this.iframeEl = ref;\n                }}\n                allow={allow}\n                className={classNames(\n                    'adyen-checkout__iframe',\n                    `adyen-checkout__iframe--${name}`,\n                    validClassNameModifiers.length && classNameModifiers.map(m => `adyen-checkout__iframe--${name}-${m}`)\n                )}\n                name={name}\n                src={src}\n                width={width}\n                height={height}\n                frameBorder=\"0\"\n                title={title}\n                /* eslint-disable react/no-unknown-property */\n                referrerpolicy=\"origin\"\n                min-width={minWidth}\n                min-height={minHeight}\n                /* eslint-enable react/no-unknown-property */\n            />\n        );\n    }\n}\n\nexport default Iframe;\n"],"names":["Iframe","Component","iframeOnLoad","this","props","callback","iframeEl","contentWindow","componentDidMount","addEventListener","bind","attachEvent","onload","componentWillUnmount","removeEventListener","detachEvent","render","name","src","width","height","minWidth","minHeight","allow","title","classNameModifiers","validClassNameModifiers","filter","m","h","iframe","ref","className","classNames","length","map","frameBorder","referrerpolicy","min-width","min-height","super","args","_define_property","defaultProps"],"mappings":"yPAkBA,MAAMA,UAAeC,EAcjBC,YAAAA,GACQC,KAAKC,MAAMC,UAA2C,mBAAxBF,KAAKC,MAAMC,UACzCF,KAAKC,MAAMC,SAASF,KAAKG,SAASC,cAE1C,CAEAC,iBAAAA,GACQL,KAAKG,SAASG,iBACdN,KAAKG,SAASG,iBAAiB,OAAQN,KAAKD,aAAaQ,KAAKP,OAAO,GAC9DA,KAAKG,SAASK,YAErBR,KAAKG,SAASK,YAAY,SAAUR,KAAKD,aAAaQ,KAAKP,OAE3DA,KAAKG,SAASM,OAAST,KAAKD,aAAaQ,KAAKP,KAEtD,CAEAU,oBAAAA,GACQV,KAAKG,SAASQ,oBACdX,KAAKG,SAASQ,oBAAoB,OAAQX,KAAKD,aAAaQ,KAAKP,OAAO,GACjEA,KAAKG,SAASS,YAErBZ,KAAKG,SAASS,YAAY,SAAUZ,KAAKD,aAAaQ,KAAKP,OAE3DA,KAAKG,SAASM,OAAS,IAE/B,CAEAI,MAAAA,EAAOC,KAAEA,EAAIC,IAAEA,EAAGC,MAAEA,EAAKC,OAAEA,EAAMC,SAAEA,EAAQC,UAAEA,EAASC,MAAEA,EAAKC,MAAEA,EAAKC,mBAAEA,IAClE,MAAMC,EAA0BD,EAAmBE,QAAOC,KAAOA,IAEjE,OACIC,EAACC,SAAAA,CACGC,IAAKA,IACD5B,KAAKG,SAAWyB,CAAAA,EAEpBR,MAAOA,EACPS,UAAWC,EACP,yBACA,2BAA2BhB,IAC3BS,EAAwBQ,QAAUT,EAAmBU,KAAIP,GAAK,2BAA2BX,KAAQW,OAErGX,KAAMA,EACNC,IAAKA,EACLC,MAAOA,EACPC,OAAQA,EACRgB,YAAY,IACZZ,MAAOA,EAEPa,eAAe,SACfC,YAAWjB,EACXkB,aAAYjB,GAIxB,mBArEJkB,SAYIC,GAAAC,EAAAvC,KAAQG,gBAAR,IAXAoC,EADE1C,EACY2C,eAAe,CACzBxB,MAAO,IACPC,OAAQ,IACRC,SAAU,IACVC,UAAW,IACXJ,IAAK,KACLK,MAAO,KACPC,MAAO,oBACPC,mBAAoB"}