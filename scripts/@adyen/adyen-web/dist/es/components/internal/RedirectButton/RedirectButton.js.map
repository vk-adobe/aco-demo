{"version":3,"file":"RedirectButton.js","sources":["../../../../../src/components/internal/RedirectButton/RedirectButton.tsx"],"sourcesContent":["import { h, Fragment } from 'preact';\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport { useState } from 'preact/hooks';\nimport { PaymentAmount } from '../../../types';\n\n// TODO this should ideally be remove but we need let prop propagate down\n//  probably not worth changing this behaviour now\nexport interface RedirectButtonProps {\n    label?: string;\n    icon?: string;\n    payButton: Function;\n    onSubmit: Function;\n    amount?: PaymentAmount;\n    name: string;\n    showPayButton: boolean;\n    ref?: any;\n}\n\nfunction RedirectButton({ label = null, icon = null, payButton, onSubmit, amount = null, name, showPayButton, ...props }: RedirectButtonProps) {\n    const { i18n } = useCoreContext();\n    const [status, setStatus] = useState('ready');\n\n    this.setStatus = newStatus => {\n        setStatus(newStatus);\n    };\n\n    const payButtonLabel = () => {\n        const isZeroAuth = amount && {}.hasOwnProperty.call(amount, 'value') && amount.value === 0;\n        if (isZeroAuth) return `${i18n.get('preauthorizeWith')} ${name}`;\n        return `${i18n.get('continueTo')} ${name}`;\n    };\n\n    if (!showPayButton) {\n        return;\n    }\n\n    return (\n        <Fragment>\n            {payButton({\n                ...props,\n                status,\n                icon,\n                classNameModifiers: ['standalone'],\n                label: label || payButtonLabel(),\n                onClick: onSubmit\n            })}\n        </Fragment>\n    );\n}\n\nexport default RedirectButton;\n"],"names":["RedirectButton","label","icon","payButton","onSubmit","amount","name","showPayButton","props","i18n","useCoreContext","status","setStatus","useState","this","newStatus","h","Fragment","classNameModifiers","hasOwnProperty","call","value","get","onClick"],"mappings":"qOAkBA,SAASA,GAAeC,MAAEA,EAAQ,KAAIC,KAAEA,EAAO,KAAIC,UAAEA,EAASC,SAAEA,EAAQC,OAAEA,EAAS,KAAIC,KAAEA,EAAIC,cAAEA,KAAkBC,IAC7G,MAAMC,KAAEA,GAASC,KACVC,EAAQC,GAAaC,EAAS,SAErCC,KAAKF,UAAYG,IACbH,EAAUG,EAAAA,EASd,GAAKR,EAIL,OACIS,EAACC,OACId,EAAU,IACJK,EACHG,SACAT,OACAgB,mBAAoB,CAAC,cACrBjB,MAAOA,IAhBII,GAAU,CAAC,EAAEc,eAAeC,KAAKf,EAAQ,UAA6B,IAAjBA,EAAOgB,MACxD,GAAGZ,EAAKa,IAAI,uBAAuBhB,IACnD,GAAGG,EAAKa,IAAI,iBAAiBhB,KAe5BiB,QAASnB,IAIzB"}