{"version":3,"file":"authorizePayment.js","sources":["../../../../../src/components/PayByBankPix/services/authorizePayment.ts"],"sourcesContent":["import { httpPost } from '../../../core/Services/http';\nimport { RawPaymentResponse } from '../../../types/global-types';\n\ninterface IAuthorizePayment {\n    payment: { enrollmentId: string; initiationId: string; fidoAssertion: string };\n    clientKey: string;\n    loadingContext: string;\n    timeout?: number; // in milliseconds\n}\n\nasync function authorizePayment({ payment, clientKey, loadingContext, timeout = 10000 }: IAuthorizePayment): Promise<RawPaymentResponse> {\n    if (!payment || !clientKey) {\n        throw new Error('Could not authorize the payment');\n    }\n    const options = {\n        loadingContext,\n        path: `utility/v1/pixpaybybank/redirect-result?clientKey=${clientKey}`,\n        timeout\n    };\n\n    return httpPost(options, payment);\n}\n\nexport { authorizePayment };\n"],"names":["async","authorizePayment","payment","clientKey","loadingContext","timeout","Error","httpPost","path"],"mappings":"0DAUAA,eAAeC,GAAiBC,QAAEA,EAAOC,UAAEA,EAASC,eAAEA,EAAcC,QAAEA,EAAU,MAC5E,IAAKH,IAAYC,EACb,MAAM,IAAIG,MAAM,mCAQpB,OAAOC,EANS,CACZH,iBACAI,KAAM,qDAAqDL,IAC3DE,WAGqBH,EAC7B"}