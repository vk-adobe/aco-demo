import{createElement as e}from"../../../external/preact/dist/preact.js";import{UIElement as t}from"../../internal/UIElement/UIElement.js";import r from"../../internal/OpenInvoice/OpenInvoice.js";import{CoreProvider as s}from"../../../core/Context/CoreProvider.js";import i from"../../../core/Errors/SRPanelProvider.js";class n extends t{get isValid(){return!!this.state.isValid}formatProps(e){const t=e.countryCode||e.data?.billingAddress?.countryCode;return{...e,allowedCountries:[t],visibility:{...n.defaultProps.visibility,...e.visibility},data:{...e.data,billingAddress:{...e.data.billingAddress,country:t},deliveryAddress:{...e.data.deliveryAddress,country:t}}}}formatData(){const{data:e={}}=this.state,{companyDetails:t={},personalDetails:r={},billingAddress:s,deliveryAddress:i,bankAccount:n}=e;return{paymentMethod:{type:this.constructor.type},...r,...t,...n&&{bankAccount:{iban:n.ibanNumber,ownerName:n.ownerName,countryCode:n.countryCode}},...s&&{billingAddress:s},...(i||s)&&{deliveryAddress:i||s}}}render(){return e(s,{i18n:this.props.i18n,loadingContext:this.props.loadingContext,resources:this.resources},e(i,{srPanel:this.props.modules.srPanel},e(r,{setComponentRef:this.setComponentRef,...this.props,...this.state,onChange:this.setState,onSubmit:this.submit,payButton:this.payButton})))}}var o,a,d;d={onChange:()=>{},data:{companyDetails:{},personalDetails:{},billingAddress:{},deliveryAddress:{},bankAccount:{}},visibility:{companyDetails:"hidden",personalDetails:"editable",billingAddress:"editable",deliveryAddress:"editable",bankAccount:"hidden"}},(a="defaultProps")in(o=n)?Object.defineProperty(o,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[a]=d;export{n as default};
//# sourceMappingURL=OpenInvoiceContainer.js.map
