import{createElement as e}from"../../../external/preact/dist/preact.js";import{useEffect as o,useState as t}from"../../../external/preact/hooks/dist/hooks.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import i from"../../internal/FormFields/Field/Field.js";import a from"../../../utils/useForm/useForm.js";import{digitsOnlyFormatter as s}from"../../../utils/Formatters/formatters.js";import l from"../../../core/Context/useImage.js";import d from"../../internal/FormFields/InputText.js";import{PREFIX as n}from"../../internal/Icon/constants.js";function m(m){const{i18n:c}=r(),u=l(),{handleChangeFor:p,triggerValidation:k,data:b,valid:f,errors:h,isValid:C}=a({schema:["blikCode"],rules:{blikCode:{validate:e=>6===e?.length,errorMessage:"blik.invalid",modes:["blur"]}},formatters:{blikCode:s}});o((()=>{m.onChange({data:b,errors:h,valid:f,isValid:C},this)}),[b,f,h,C]);const[g,F]=t("ready");return this.setStatus=F,this.showValidation=k,e("div",{className:"adyen-checkout__blik"},e("p",{className:"adyen-checkout__blik__helper"},c.get("blik.help")),e(i,{errorMessage:!!h.blikCode&&c.get(h.blikCode.errorMessage),label:c.get("blik.code"),classNameModifiers:["blikCode","50"],isValid:f.blikCode,dir:"ltr",name:"blikCode"},e(d,{value:b.blikCode,name:"blikCode",spellcheck:!1,required:!0,autocorrect:"off",autocomplete:"off",onInput:p("blikCode","input"),onBlur:p("blikCode","blur"),placeholder:m?.placeholders?.blikCode,inputMode:"numeric",maxLength:6})),m.showPayButton&&m.payButton({status:g,icon:u({imageFolder:"components/"})(`${n}lock`)}))}m.defaultProps={data:{blikCode:""}};export{m as default};
//# sourceMappingURL=BlikInput.js.map
