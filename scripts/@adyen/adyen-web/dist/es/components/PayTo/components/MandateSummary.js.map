{"version":3,"file":"MandateSummary.js","sources":["../../../../../src/components/PayTo/components/MandateSummary.tsx"],"sourcesContent":["import DetailsTable from '../../internal/DetailsTable';\nimport { h } from 'preact';\nimport { MandateType } from '../types';\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport { DetailsTableData } from '../../internal/DetailsTable/DetailsTable';\nimport './MandateSummary.scss';\n\nexport interface MandateSummaryProps {\n    mandate: MandateType;\n    currencyCode: string;\n    payee?: string;\n}\n\n// this is the order the fields are going to be displayed in the UI\nconst orderedMandateTableFields = ['payee', 'remarks', 'amount', 'frequency', 'startsAt', 'endsAt'];\n\nexport default function MandateSummary({ mandate, currencyCode, payee }: MandateSummaryProps) {\n    const { i18n } = useCoreContext();\n    const tableFields: DetailsTableData = orderedMandateTableFields.map((key: keyof MandateType | 'payee') => {\n        // get the label for the key, like payto.mandate.amount.label, payto.mandate.frequency.label\n        const labelText = i18n.get(`payto.mandate.${key}.label`);\n        const amountValue = Number(mandate.amount);\n        switch (key) {\n            case 'amount': {\n                // it can be either show \"amount\" OR \"amount up to (max amount)\"\n                const formatedAmount = i18n.amount(amountValue, currencyCode);\n                if (mandate.amountRule === 'max') {\n                    return {\n                        label: labelText,\n                        value: i18n.get('payto.mandate.amount.max', { values: { amount: formatedAmount } })\n                    };\n                } else {\n                    return {\n                        label: labelText,\n                        value: i18n.amount(amountValue, currencyCode)\n                    };\n                }\n            }\n            case 'frequency': {\n                if (!mandate.count) {\n                    // if there's no count we just say 'adhoc'\n                    return {\n                        label: labelText,\n                        value: i18n.get(`payto.mandate.frequency.adhoc-no-count`)\n                    };\n                } else {\n                    // frequency can be: adhoc, daily, weekly, biWeekly, monthly, quarterly, halfYearly, yearly\n                    return {\n                        label: labelText,\n                        value: i18n.get(`payto.mandate.frequency.${mandate.frequency}`, { values: { count: mandate.count } })\n                    };\n                }\n            }\n            case 'remarks':\n                return {\n                    label: labelText,\n                    value: mandate.remarks\n                };\n            case 'startsAt':\n                return {\n                    label: labelText,\n                    value: i18n.date(mandate.startsAt)\n                };\n\n            case 'endsAt':\n                return {\n                    label: labelText,\n                    value: i18n.date(mandate.endsAt)\n                };\n\n            case 'payee':\n                return {\n                    label: labelText,\n                    value: payee\n                };\n        }\n    });\n\n    return <DetailsTable tableFields={tableFields}></DetailsTable>;\n}\n"],"names":["orderedMandateTableFields","MandateSummary","mandate","currencyCode","payee","i18n","useCoreContext","tableFields","map","key","labelText","get","amountValue","Number","amount","formatedAmount","amountRule","label","value","values","count","frequency","remarks","date","startsAt","endsAt","h","DetailsTable"],"mappings":"0MAcA,MAAMA,EAA4B,CAAC,QAAS,UAAW,SAAU,YAAa,WAAY,UAE3E,SAASC,GAAeC,QAAEA,EAAOC,aAAEA,EAAYC,MAAEA,IAC5D,MAAMC,KAAEA,GAASC,IACXC,EAAgCP,EAA0BQ,KAAKC,IAEjE,MAAMC,EAAYL,EAAKM,IAAI,iBAAiBF,WACtCG,EAAcC,OAAOX,EAAQY,QACnC,OAAQL,GACJ,IAAK,SAAU,CAEX,MAAMM,EAAiBV,EAAKS,OAAOF,EAAaT,GAChD,MAA2B,QAAvBD,EAAQc,WACD,CACHC,MAAOP,EACPQ,MAAOb,EAAKM,IAAI,2BAA4B,CAAEQ,OAAQ,CAAEL,OAAQC,MAG7D,CACHE,MAAOP,EACPQ,MAAOb,EAAKS,OAAOF,EAAaT,GAG5C,CACA,IAAK,YACD,OAAKD,EAAQkB,MAQF,CACHH,MAAOP,EACPQ,MAAOb,EAAKM,IAAI,2BAA2BT,EAAQmB,YAAa,CAAEF,OAAQ,CAAEC,MAAOlB,EAAQkB,UARxF,CACHH,MAAOP,EACPQ,MAAOb,EAAKM,IAAI,2CAU5B,IAAK,UACD,MAAO,CACHM,MAAOP,EACPQ,MAAOhB,EAAQoB,SAEvB,IAAK,WACD,MAAO,CACHL,MAAOP,EACPQ,MAAOb,EAAKkB,KAAKrB,EAAQsB,WAGjC,IAAK,SACD,MAAO,CACHP,MAAOP,EACPQ,MAAOb,EAAKkB,KAAKrB,EAAQuB,SAGjC,IAAK,QACD,MAAO,CACHR,MAAOP,EACPQ,MAAOd,GAEnB,IAGJ,OAAOsB,EAACC,EAAAA,CAAapB,YAAaA,GACtC"}