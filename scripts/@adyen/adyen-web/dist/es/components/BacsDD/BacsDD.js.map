{"version":3,"file":"BacsDD.js","sources":["../../../../src/components/BacsDD/BacsDD.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport BacsInput from './components/BacsInput';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport BacsResult from './components/BacsResult';\nimport PayButton from '../internal/PayButton';\nimport { TxVariants } from '../tx-variants';\nimport { VoucherConfiguration } from '../internal/Voucher/types';\nimport { BacsElementData } from './types';\n\nclass BacsElement extends UIElement<VoucherConfiguration> {\n    public static type = TxVariants.directdebit_GB;\n\n    formatData(): BacsElementData {\n        return {\n            paymentMethod: {\n                type: BacsElement.type,\n                ...(this.state.data?.holderName && { holderName: this.state.data.holderName }),\n                ...(this.state.data?.bankAccountNumber && { bankAccountNumber: this.state.data.bankAccountNumber }),\n                ...(this.state.data?.bankLocationId && { bankLocationId: this.state.data.bankLocationId })\n            },\n            ...(this.state.data?.shopperEmail && { shopperEmail: this.state.data.shopperEmail })\n        };\n    }\n\n    get isValid(): boolean {\n        return !!this.state.isValid;\n    }\n\n    public payButton = props => {\n        return <PayButton amount={this.props.amount} onClick={this.submit} {...props} />;\n    };\n\n    render() {\n        return (\n            <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                {this.props.url ? (\n                    <BacsResult\n                        ref={ref => {\n                            this.componentRef = ref;\n                        }}\n                        icon={this.icon}\n                        url={this.props.url}\n                        paymentMethodType={this.props.paymentMethodType}\n                        onActionHandled={this.onActionHandled}\n                        // originalAction={this.props.originalAction}\n                    />\n                ) : (\n                    <BacsInput\n                        // @ts-ignore ref is internal from the Component\n                        ref={ref => {\n                            this.componentRef = ref;\n                        }}\n                        {...this.props}\n                        onChange={this.setState}\n                        payButton={this.payButton}\n                        onSubmit={this.submit}\n                    />\n                )}\n            </CoreProvider>\n        );\n    }\n}\n\nexport default BacsElement;\n"],"names":["BacsElement","UIElement","formatData","paymentMethod","type","this","state","data","holderName","bankAccountNumber","bankLocationId","shopperEmail","isValid","render","h","CoreProvider","i18n","props","loadingContext","resources","url","BacsResult","ref","componentRef","icon","paymentMethodType","onActionHandled","BacsInput","onChange","setState","payButton","onSubmit","submit","super","args","_define_property","PayButton","amount","onClick","TxVariants","directdebit_GB"],"mappings":"kfAUA,MAAMA,UAAoBC,EAGtBC,UAAAA,GACI,MAAO,CACHC,cAAe,CACXC,KAAMJ,EAAYI,QACdC,KAAKC,MAAMC,MAAMC,YAAc,CAAEA,WAAYH,KAAKC,MAAMC,KAAKC,eAC7DH,KAAKC,MAAMC,MAAME,mBAAqB,CAAEA,kBAAmBJ,KAAKC,MAAMC,KAAKE,sBAC3EJ,KAAKC,MAAMC,MAAMG,gBAAkB,CAAEA,eAAgBL,KAAKC,MAAMC,KAAKG,oBAEzEL,KAAKC,MAAMC,MAAMI,cAAgB,CAAEA,aAAcN,KAAKC,MAAMC,KAAKI,cAE7E,CAEA,WAAIC,GACA,QAASP,KAAKC,MAAMM,OACxB,CAMAC,MAAAA,GACI,OACIC,EAACC,EAAAA,CAAaC,KAAMX,KAAKY,MAAMD,KAAME,eAAgBb,KAAKY,MAAMC,eAAgBC,UAAWd,KAAKc,WAC3Fd,KAAKY,MAAMG,IACRN,EAACO,EAAAA,CACGC,IAAKA,IACDjB,KAAKkB,aAAeD,CAAAA,EAExBE,KAAMnB,KAAKmB,KACXJ,IAAKf,KAAKY,MAAMG,IAChBK,kBAAmBpB,KAAKY,MAAMQ,kBAC9BC,gBAAiBrB,KAAKqB,kBAI1BZ,EAACa,EAAAA,CAEGL,IAAKA,IACDjB,KAAKkB,aAAeD,CAAAA,KAEpBjB,KAAKY,MACTW,SAAUvB,KAAKwB,SACfC,UAAWzB,KAAKyB,UAChBC,SAAU1B,KAAK2B,SAKnC,mBAnDJC,SAmBIC,GAAAC,EAAA9B,KAAOyB,aAAYb,GACRH,EAACsB,EAAAA,CAAUC,OAAQhC,KAAKY,MAAMoB,OAAQC,QAASjC,KAAK2B,UAAYf,OAnB3EkB,EADEnC,EACYI,OAAOmC,EAAWC"}