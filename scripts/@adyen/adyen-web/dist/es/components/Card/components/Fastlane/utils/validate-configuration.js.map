{"version":3,"file":"validate-configuration.js","sources":["../../../../../../../src/components/Card/components/Fastlane/utils/validate-configuration.ts"],"sourcesContent":["import { isValidHttpUrl } from '../../../../../utils/isValidURL';\nimport type { FastlaneSignupConfiguration } from '../../../../PayPalFastlane/types';\n\ntype ConfigurationKey = keyof FastlaneSignupConfiguration;\n\nconst VALID_KEYS: ConfigurationKey[] = [\n    'showConsent',\n    'defaultToggleState',\n    'termsAndConditionsLink',\n    'privacyPolicyLink',\n    'termsAndConditionsVersion',\n    'fastlaneSessionId'\n];\n\n/**\n * Verifies that Fastlane configuration for Card component is valid\n * - If the consent can be shown, then validate that all required fields are valid\n * - If the consent should not be shown, then validate the showConsent is valid boolean\n *\n * @param config\n */\nconst isConfigurationValid = (config: FastlaneSignupConfiguration): boolean => {\n    if (!config) {\n        return false;\n    }\n\n    Object.keys(config).forEach(\n        (key: keyof FastlaneSignupConfiguration) =>\n            !VALID_KEYS.includes(key) && console.warn(`Fastlane: '${key}' is not valid Fastlane config property`)\n    );\n\n    const { showConsent, defaultToggleState, termsAndConditionsLink, privacyPolicyLink, termsAndConditionsVersion } = config;\n\n    let isValid: boolean = false;\n\n    if (showConsent) {\n        isValid =\n            isValidHttpUrl(privacyPolicyLink) &&\n            isValidHttpUrl(termsAndConditionsLink) &&\n            typeof showConsent === 'boolean' &&\n            typeof defaultToggleState === 'boolean' &&\n            !!termsAndConditionsVersion;\n    } else {\n        isValid = typeof showConsent === 'boolean';\n    }\n\n    if (!isValid) {\n        console.warn('Fastlane: Component configuration is not valid. Fastlane will not be displayed');\n    }\n\n    return isValid;\n};\n\nexport { isConfigurationValid };\n"],"names":["VALID_KEYS","isConfigurationValid","config","Object","keys","forEach","key","includes","console","warn","showConsent","defaultToggleState","termsAndConditionsLink","privacyPolicyLink","termsAndConditionsVersion","isValid","isValidHttpUrl"],"mappings":"oEAKA,MAAMA,EAAiC,CACnC,cACA,qBACA,yBACA,oBACA,4BACA,qBAUEC,EAAwBC,IAC1B,IAAKA,EACD,OAAO,EAGXC,OAAOC,KAAKF,GAAQG,SACfC,IACIN,EAAWO,SAASD,IAAQE,QAAQC,KAAK,cAAcH,8CAGhE,MAAMI,YAAEA,EAAWC,mBAAEA,EAAkBC,uBAAEA,EAAsBC,kBAAEA,EAAiBC,0BAAEA,GAA8BZ,EAElH,IAAIa,GAAmB,EAiBvB,OAdIA,EADAL,EAEIM,EAAeH,IACfG,EAAeJ,IACQ,kBAAhBF,GACuB,kBAAvBC,KACLG,EAE2B,kBAAhBJ,EAGhBK,GACDP,QAAQC,KAAK,kFAGVM,CAAAA"}