{"version":3,"file":"setup-session.js","sources":["../../../../../src/core/Services/sessions/setup-session.ts"],"sourcesContent":["import { httpPost } from '../http';\nimport Session from '../../CheckoutSession';\nimport { CheckoutSessionSetupResponse, SetupSessionOptions } from '../../CheckoutSession/types';\nimport { API_VERSION } from './constants';\n\nfunction setupSession(session: Session, options: SetupSessionOptions): Promise<CheckoutSessionSetupResponse> {\n    const path = `${API_VERSION}/sessions/${session.id}/setup?clientKey=${session.clientKey}`;\n    const data = {\n        browserInfo: options.browserInfo,\n        sessionData: session.data,\n        ...(options.order\n            ? {\n                  order: { orderData: options.order.orderData, pspReference: options.order.pspReference }\n              }\n            : {})\n    };\n\n    return httpPost<CheckoutSessionSetupResponse>(\n        {\n            loadingContext: session.loadingContext,\n            path,\n            errorLevel: 'fatal'\n        },\n        data\n    );\n}\n\nexport default setupSession;\n"],"names":["setupSession","session","options","path","API_VERSION","id","clientKey","data","_object_spread","browserInfo","sessionData","order","orderData","pspReference","httpPost","loadingContext","errorLevel"],"mappings":"2MAKA,SAASA,EAAaC,EAAkBC,GACpC,MAAMC,EAAO,GAAGC,cAAwBH,EAAQI,sBAAsBJ,EAAQK,YACxEC,wUAAOC,CAAA,CACTC,YAAaP,EAAQO,YACrBC,YAAaT,EAAQM,MACjBL,EAAQS,MACN,CACIA,MAAO,CAAEC,UAAWV,EAAQS,MAAMC,UAAWC,aAAcX,EAAQS,MAAME,eAE7E,IAGV,OAAOC,EACH,CACIC,eAAgBd,EAAQc,eACxBZ,OACAa,WAAY,SAEhBT,EAER"}