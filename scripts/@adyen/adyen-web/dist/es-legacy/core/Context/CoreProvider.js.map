{"version":3,"file":"CoreProvider.js","sources":["../../../../src/core/Context/CoreProvider.tsx"],"sourcesContent":["import { h, toChildArray, createContext } from 'preact';\nimport { useContext, useEffect } from 'preact/hooks';\nimport { Resources } from './Resources';\nimport Language from '../../language';\nimport type { ComponentChildren } from 'preact';\n\ninterface CoreProviderProps {\n    loadingContext: string;\n    i18n: Language;\n    resources: Resources;\n    children: ComponentChildren;\n}\n\ntype ContextValue = {\n    i18n: Language;\n    loadingContext: string;\n    resources: Resources;\n};\n\nconst CoreContext = createContext<ContextValue | undefined>(undefined);\n\nconst CoreProvider = ({ i18n, loadingContext, resources, children }: CoreProviderProps) => {\n    useEffect(() => {\n        if (!i18n || !loadingContext || !resources) {\n            console.warn(\n                `CoreProvider - WARNING core provider is missing:${i18n ? '' : 'i18n'} ${loadingContext ? '' : 'loadingContext'} ${resources ? '' : 'resources'}`\n            );\n        }\n    }, [i18n, loadingContext, resources]);\n\n    return (\n        <CoreContext.Provider\n            value={{\n                i18n,\n                loadingContext,\n                resources\n            }}\n        >\n            {toChildArray(children)}\n        </CoreContext.Provider>\n    );\n};\n\nconst useCoreContext = (): ContextValue => {\n    const context = useContext(CoreContext);\n\n    if (context === undefined) {\n        throw new Error('\"useCoreContext\" must be used within a CoreProvider');\n    }\n\n    return context;\n};\n\nexport { CoreProvider, useCoreContext };\n"],"names":["CoreContext","createContext","undefined","CoreProvider","i18n","loadingContext","resources","children","useEffect","console","warn","h","Provider","value","toChildArray","useCoreContext","context","useContext","Error"],"mappings":"gMAmBA,MAAMA,EAAcC,OAAwCC,GAEtDC,EAAe,EAAGC,OAAMC,iBAAgBC,YAAWC,eACrDC,GAAU,KACDJ,GAASC,GAAmBC,GAC7BG,QAAQC,KACJ,mDAAmDN,EAAO,GAAK,UAAUC,EAAiB,GAAK,oBAAoBC,EAAY,GAAK,cAE5I,GACD,CAACF,EAAMC,EAAgBC,IAGtBK,EAACX,EAAYY,SAAQ,CACjBC,MAAO,CACHT,OACAC,iBACAC,cAGHQ,EAAaP,KAKpBQ,EAAiB,KACnB,MAAMC,EAAUC,EAAWjB,GAE3B,QAAgBE,IAAZc,EACA,MAAM,IAAIE,MAAM,uDAGpB,OAAOF,CAAAA"}