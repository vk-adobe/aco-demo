{"version":3,"file":"Donation.js","sources":["../../../../src/components/Donation/Donation.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport DonationComponent from './components/DonationComponent';\nimport { TxVariants } from '../tx-variants';\nimport type { ICore } from '../../core/types';\nimport type { DonationConfiguration } from './types';\n\nclass DonationElement extends UIElement<DonationConfiguration> {\n    public static type = TxVariants.donation;\n\n    constructor(checkout: ICore, props?: DonationConfiguration) {\n        super(checkout, props);\n        this.donate = this.donate.bind(this);\n    }\n\n    public static defaultProps = {\n        onCancel: () => {},\n        onDonate: () => {}\n    };\n\n    /**\n     * Returns the component payment data ready to submit to the Checkout API\n     */\n    get data() {\n        return this.state.data;\n    }\n\n    /**\n     * Returns whether the component state is valid or not\n     */\n    get isValid() {\n        return this.state.isValid;\n    }\n\n    setState(newState) {\n        this.state = { ...this.state, ...newState };\n    }\n\n    donate() {\n        const { data, isValid } = this;\n        this.props.onDonate({ data, isValid }, this);\n    }\n\n    public handleRef = ref => {\n        this.componentRef = ref;\n    };\n\n    render() {\n        return (\n            <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                {/*@ts-ignore ref*/}\n                <DonationComponent {...this.props} ref={this.handleRef} onChange={this.setState} onDonate={this.donate} />\n            </CoreProvider>\n        );\n    }\n}\n\nexport default DonationElement;\n"],"names":["DonationElement","UIElement","data","this","state","isValid","setState","newState","_object_spread","donate","props","onDonate","render","h","CoreProvider","i18n","loadingContext","resources","DonationComponent","ref","handleRef","onChange","constructor","checkout","super","_define_property","componentRef","bind","type","TxVariants","donation","defaultProps","onCancel"],"mappings":"qlCAQA,MAAMA,UAAwBC,EAgB1B,QAAIC,GACA,OAAOC,KAAKC,MAAMF,IACtB,CAKA,WAAIG,GACA,OAAOF,KAAKC,MAAMC,OACtB,CAEAC,QAAAA,CAASC,GACLJ,KAAKC,MAAQI,KAAKL,KAAKC,MAAUG,EACrC,CAEAE,MAAAA,GACI,MAAMP,KAAEA,EAAIG,QAAEA,GAAYF,KAC1BA,KAAKO,MAAMC,SAAS,CAAET,OAAMG,WAAWF,KAC3C,CAMAS,MAAAA,GACI,OACIC,EAACC,EAAAA,CAAaC,KAAMZ,KAAKO,MAAMK,KAAMC,eAAgBb,KAAKO,MAAMM,eAAgBC,UAAWd,KAAKc,WAE5FJ,EAACK,EAAAA,EAAAA,EAAAA,GAAsBf,KAAKO,OAAK,CAAES,IAAKhB,KAAKiB,UAAWC,SAAUlB,KAAKG,SAAUK,SAAUR,KAAKM,UAG5G,CA5CAa,WAAAA,CAAYC,EAAiBb,GACzBc,MAAMD,EAAUb,GAgCpBe,EAAAtB,KAAOiB,aAAYD,IACfhB,KAAKuB,aAAeP,CAAAA,IAhCpBhB,KAAKM,OAASN,KAAKM,OAAOkB,KAAKxB,KACnC,EALAsB,EADEzB,EACY4B,OAAOC,EAAWC,UAOhCL,EAREzB,EAQY+B,eAAe,CACzBC,SAAU,OACVrB,SAAU"}