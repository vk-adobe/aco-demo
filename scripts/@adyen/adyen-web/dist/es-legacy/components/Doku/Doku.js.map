{"version":3,"file":"Doku.js","sources":["../../../../src/components/Doku/Doku.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport DokuInput from './components/DokuInput';\nimport DokuVoucherResult from './components/DokuVoucherResult';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport { TxVariants } from '../tx-variants';\nimport { VoucherConfiguration } from '../internal/Voucher/types';\n\nexport class DokuElement extends UIElement<VoucherConfiguration> {\n    public static type = TxVariants.doku;\n    public static txVariants = [\n        TxVariants.doku,\n        TxVariants.doku_alfamart,\n        TxVariants.doku_permata_lite_atm,\n        TxVariants.doku_indomaret,\n        TxVariants.doku_atm_mandiri_va,\n        TxVariants.doku_sinarmas_va,\n        TxVariants.doku_mandiri_va,\n        TxVariants.doku_cimb_va,\n        TxVariants.doku_danamon_va,\n        TxVariants.doku_bri_va,\n        TxVariants.doku_bni_va,\n        TxVariants.doku_bca_va,\n        TxVariants.doku_wallet\n    ];\n\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData() {\n        return {\n            ...this.state.data,\n            paymentMethod: {\n                type: this.type\n            }\n        };\n    }\n\n    render() {\n        return (\n            <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                {this.props.reference ? (\n                    <DokuVoucherResult\n                        ref={ref => {\n                            this.componentRef = ref;\n                        }}\n                        {...this.props}\n                        onActionHandled={this.onActionHandled}\n                    />\n                ) : (\n                    <DokuInput\n                        setComponentRef={this.setComponentRef}\n                        {...this.props}\n                        onChange={this.setState}\n                        onSubmit={this.submit}\n                        payButton={this.payButton}\n                    />\n                )}\n            </CoreProvider>\n        );\n    }\n}\n\nexport default DokuElement;\n"],"names":["DokuElement","UIElement","isValid","this","state","formatData","_object_spread_props","_object_spread","data","paymentMethod","type","render","h","CoreProvider","i18n","props","loadingContext","resources","reference","DokuVoucherResult","ref","componentRef","onActionHandled","DokuInput","setComponentRef","onChange","setState","onSubmit","submit","payButton","_define_property","TxVariants","doku","txVariants","doku_alfamart","doku_permata_lite_atm","doku_indomaret","doku_atm_mandiri_va","doku_sinarmas_va","doku_mandiri_va","doku_cimb_va","doku_danamon_va","doku_bri_va","doku_bni_va","doku_bca_va","doku_wallet"],"mappings":"0pCAQO,MAAMA,UAAoBC,EAkB7B,WAAIC,GACA,QAASC,KAAKC,MAAMF,OACxB,CAKAG,UAAAA,GACI,OAAOC,EACAC,EAAA,CAAA,EAAAJ,KAAKC,MAAMI,MAAI,CAClBC,cAAe,CACXC,KAAMP,KAAKO,OAGvB,CAEAC,MAAAA,GACI,OACIC,EAACC,EAAAA,CAAaC,KAAMX,KAAKY,MAAMD,KAAME,eAAgBb,KAAKY,MAAMC,eAAgBC,UAAWd,KAAKc,WAC3Fd,KAAKY,MAAMG,UACRN,EAACO,EAAAA,EAAAA,EAAAA,CACGC,IAAKA,IACDjB,KAAKkB,aAAeD,CAAAA,GAEpBjB,KAAKY,OAAK,CACdO,gBAAiBnB,KAAKmB,mBAG1BV,EAACW,EAAAA,EAAAA,EAAAA,CACGC,gBAAiBrB,KAAKqB,iBAClBrB,KAAKY,OAAK,CACdU,SAAUtB,KAAKuB,SACfC,SAAUxB,KAAKyB,OACfC,UAAW1B,KAAK0B,aAKpC,EAvDAC,EADS9B,EACKU,OAAOqB,EAAWC,MAChCF,EAFS9B,EAEKiC,aAAa,CACvBF,EAAWC,KACXD,EAAWG,cACXH,EAAWI,sBACXJ,EAAWK,eACXL,EAAWM,oBACXN,EAAWO,iBACXP,EAAWQ,gBACXR,EAAWS,aACXT,EAAWU,gBACXV,EAAWW,YACXX,EAAWY,YACXZ,EAAWa,YACXb,EAAWc"}