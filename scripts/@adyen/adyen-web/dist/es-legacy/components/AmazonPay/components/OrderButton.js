import{createElement as e}from"../../../external/preact/dist/preact.js";import{useCoreContext as r}from"../../../core/Context/CoreProvider.js";import t from"../../internal/Button/Button.js";import{updateAmazonCheckoutSession as o}from"../services.js";function n(n){const{i18n:i,loadingContext:a}=r();return this.createOrder=()=>{const{amazonCheckoutSessionId:e,amount:r,clientKey:t,chargePermissionType:i,publicKeyId:c,region:s,recurringMetadata:l,returnUrl:u}=n;o(a,t,{amount:r,chargePermissionType:i,checkoutResultReturnUrl:u,checkoutSessionId:e,publicKeyId:c,recurringMetadata:l,region:s}).then((e=>{var r;if(!(null==e||null===(r=e.action)||void 0===r?void 0:r.type))return console.error(e.errorMessage||"Could not get the AmazonPay URL");"redirect"===e.action.type&&window.location.assign(e.action.url)})).catch((e=>{n.onError&&n.onError(e,this.componentRef)}))},e(t,{classNameModifiers:["standalone","pay"],label:i.get("confirmPurchase"),onClick:this.createOrder})}export{n as default};
//# sourceMappingURL=OrderButton.js.map
