{"version":3,"file":"Boleto.js","sources":["../../../../src/components/Boleto/Boleto.tsx"],"sourcesContent":["import { h } from 'preact';\nimport UIElement from '../internal/UIElement/UIElement';\nimport BoletoInput from './components/BoletoInput';\nimport { cleanCPFCNPJ } from '../internal/SocialSecurityNumberBrazil/utils';\nimport BoletoVoucherResult from './components/BoletoVoucherResult';\nimport { CoreProvider } from '../../core/Context/CoreProvider';\nimport { TxVariants } from '../tx-variants';\n\nimport type { BoletoConfiguration } from './types';\n\nexport class BoletoElement extends UIElement<BoletoConfiguration> {\n    public static type = TxVariants.boletobancario;\n\n    public static txVariants = [\n        TxVariants.boletobancario,\n        TxVariants.boletobancario_itau,\n        TxVariants.boletobancario_santander,\n        TxVariants.primeiropay_boleto\n    ];\n\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData() {\n        const { data = {} } = this.state;\n        const { billingAddress, shopperEmail, firstName, lastName, socialSecurityNumber = '' } = data;\n\n        return {\n            paymentMethod: {\n                type: this.type\n            },\n            ...(billingAddress && { billingAddress }),\n            ...(shopperEmail && { shopperEmail }),\n            ...(firstName && lastName && { shopperName: { firstName, lastName } }),\n            ...(socialSecurityNumber && { socialSecurityNumber: cleanCPFCNPJ(socialSecurityNumber) })\n        };\n    }\n\n    private handleRef = ref => {\n        this.componentRef = ref;\n    };\n\n    render() {\n        return (\n            <CoreProvider i18n={this.props.i18n} loadingContext={this.props.loadingContext} resources={this.resources}>\n                {this.props.reference ? (\n                    <BoletoVoucherResult ref={this.handleRef} icon={this.icon} {...this.props} onActionHandled={this.onActionHandled} />\n                ) : (\n                    <BoletoInput\n                        setComponentRef={this.handleRef}\n                        {...this.props}\n                        onChange={this.setState}\n                        onSubmit={this.submit}\n                        payButton={this.payButton}\n                    />\n                )}\n            </CoreProvider>\n        );\n    }\n}\n\nexport default BoletoElement;\n"],"names":["BoletoElement","UIElement","isValid","this","state","formatData","data","billingAddress","shopperEmail","firstName","lastName","socialSecurityNumber","_object_spread","paymentMethod","type","shopperName","cleanCPFCNPJ","render","h","CoreProvider","i18n","props","loadingContext","resources","reference","BoletoVoucherResult","ref","handleRef","icon","onActionHandled","BoletoInput","setComponentRef","onChange","setState","onSubmit","submit","payButton","super","args","_define_property","componentRef","TxVariants","boletobancario","txVariants","boletobancario_itau","boletobancario_santander","primeiropay_boleto"],"mappings":"ivCAUO,MAAMA,UAAsBC,EAU/B,WAAIC,GACA,QAASC,KAAKC,MAAMF,OACxB,CAKAG,UAAAA,GACI,MAAMC,KAAEA,EAAO,IAAOH,KAAKC,OACrBG,eAAEA,EAAcC,aAAEA,EAAYC,UAAEA,EAASC,SAAEA,EAAQC,qBAAEA,EAAuB,IAAOL,EAEzF,OAAOM,EAAA,CACHC,cAAe,CACXC,KAAMX,KAAKW,OAEXP,GAAkB,CAAEA,kBACpBC,GAAgB,CAAEA,gBAClBC,GAAaC,GAAY,CAAEK,YAAa,CAAEN,YAAWC,aACrDC,GAAwB,CAAEA,qBAAsBK,EAAaL,IAEzE,CAMAM,MAAAA,GACI,OACIC,EAACC,EAAAA,CAAaC,KAAMjB,KAAKkB,MAAMD,KAAME,eAAgBnB,KAAKkB,MAAMC,eAAgBC,UAAWpB,KAAKoB,WAC3FpB,KAAKkB,MAAMG,UACRN,EAACO,EAAAA,EAAAA,EAAAA,CAAoBC,IAAKvB,KAAKwB,UAAWC,KAAMzB,KAAKyB,MAAUzB,KAAKkB,OAAK,CAAEQ,gBAAiB1B,KAAK0B,mBAEjGX,EAACY,EAAAA,EAAAA,EAAAA,CACGC,gBAAiB5B,KAAKwB,WAClBxB,KAAKkB,OAAK,CACdW,SAAU7B,KAAK8B,SACfC,SAAU/B,KAAKgC,OACfC,UAAWjC,KAAKiC,aAKpC,mBApDGC,SAgCHC,GAAAC,EAAApC,KAAQwB,aAAYD,IAChBvB,KAAKqC,aAAed,CAAAA,KAhCxBa,EADSvC,EACKc,OAAO2B,EAAWC,gBAEhCH,EAHSvC,EAGK2C,aAAa,CACvBF,EAAWC,eACXD,EAAWG,oBACXH,EAAWI,yBACXJ,EAAWK"}