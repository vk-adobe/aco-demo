import{useState as o,useEffect as r}from"../../../external/preact/hooks/dist/hooks.js";import s from"../../../core/Errors/useSRPanelContext.js";import{usePrevious as e}from"../../../utils/hookUtils.js";import{ERROR_ACTION_BLUR_SCENARIO as t,ERROR_ACTION_FOCUS_FIELD as a}from"../../../core/Errors/constants.js";import{setFocusOnField as c}from"../../../utils/setFocus.js";import{getArrayDifferences as i}from"../../../utils/arrayUtils.js";const l=({errors:l,data:n,isValidating:u})=>{const[m,d]=o(null),f=e(m),{setSRMessagesFromObjects:p,setSRMessagesFromStrings:h,clearSRPanel:S,shouldMoveFocusSR:g}=s(),j=null==p?void 0:p({}),y=["selectedAccountType","ownerName","routingNumber","accountNumber","accountNumberVerification"];r((()=>{try{const o=null==j?void 0:j({errors:l,isValidating:u.current,layout:y}),r=null==o?void 0:o.currentErrorsSortedByLayout;switch(d(r),null==o?void 0:o.action){case a:g&&c(".adyen-checkout__ach",o.fieldToFocus),setTimeout((()=>{u.current=!1}),300);break;case t:{const o=i(r,f,"field"),s=null==o?void 0:o[0];if(s){const o=!0?s.errorMessage:null;h(o)}else S();break}}}catch(o){}}),[l,n])};export{l as default};
//# sourceMappingURL=useSRPanelForACHErrors.js.map
