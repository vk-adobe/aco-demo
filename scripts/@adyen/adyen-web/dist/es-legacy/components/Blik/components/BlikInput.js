import{createElement as e}from"../../../external/preact/dist/preact.js";import{useEffect as o,useState as r}from"../../../external/preact/hooks/dist/hooks.js";import{useCoreContext as t}from"../../../core/Context/CoreProvider.js";import i from"../../internal/FormFields/Field/Field.js";import l from"../../../utils/useForm/useForm.js";import{digitsOnlyFormatter as a}from"../../../utils/Formatters/formatters.js";import s from"../../../core/Context/useImage.js";import d from"../../internal/FormFields/InputText.js";import{PREFIX as n}from"../../internal/Icon/constants.js";function m(m){var u;const{i18n:c}=t(),p=s(),{handleChangeFor:k,triggerValidation:b,data:f,valid:h,errors:C,isValid:g}=l({schema:["blikCode"],rules:{blikCode:{validate:e=>6===(null==e?void 0:e.length),errorMessage:"blik.invalid",modes:["blur"]}},formatters:{blikCode:a}});o((()=>{m.onChange({data:f,errors:C,valid:h,isValid:g},this)}),[f,h,C,g]);const[v,F]=r("ready");return this.setStatus=F,this.showValidation=b,e("div",{className:"adyen-checkout__blik"},e("p",{className:"adyen-checkout__blik__helper"},c.get("blik.help")),e(i,{errorMessage:!!C.blikCode&&c.get(C.blikCode.errorMessage),label:c.get("blik.code"),classNameModifiers:["blikCode","50"],isValid:h.blikCode,dir:"ltr",name:"blikCode"},e(d,{value:f.blikCode,name:"blikCode",spellcheck:!1,required:!0,autocorrect:"off",autocomplete:"off",onInput:k("blikCode","input"),onBlur:k("blikCode","blur"),placeholder:null==m||null===(u=m.placeholders)||void 0===u?void 0:u.blikCode,inputMode:"numeric",maxLength:6})),m.showPayButton&&m.payButton({status:v,icon:p({imageFolder:"components/"})(`${n}lock`)}))}m.defaultProps={data:{blikCode:""}};export{m as default};
//# sourceMappingURL=BlikInput.js.map
