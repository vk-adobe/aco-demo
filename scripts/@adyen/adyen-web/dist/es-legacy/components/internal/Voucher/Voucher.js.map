{"version":3,"file":"Voucher.js","sources":["../../../../../src/components/internal/Voucher/Voucher.tsx"],"sourcesContent":["import { h } from 'preact';\nimport classNames from 'classnames';\nimport Button from '../Button';\nimport { copyToClipboard } from '../../../utils/clipboard';\n\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport './Voucher.scss';\nimport { VoucherProps } from './types';\nimport useImage from '../../../core/Context/useImage';\nimport { PREFIX } from '../Icon/constants';\nimport DetailsTable from '../DetailsTable';\n\nexport default function Voucher({ voucherDetails = [], className = '', ...props }: VoucherProps) {\n    const { i18n } = useCoreContext();\n    const getImage = useImage();\n\n    props.onActionHandled?.({ componentType: props.paymentMethodType, actionDescription: 'voucher-presented' });\n\n    return (\n        <div className={classNames('adyen-checkout__voucher-result', `adyen-checkout__voucher-result--${props.paymentMethodType}`, className)}>\n            <div className=\"adyen-checkout__voucher-result__top\">\n                <div className=\"adyen-checkout__voucher-result__image\">\n                    {!!props.imageUrl && (\n                        <span className=\"adyen-checkout__voucher-result__image__wrapper\">\n                            <img alt={props.paymentMethodType} className=\"adyen-checkout__voucher-result__image__brand\" src={props.imageUrl} />\n                        </span>\n                    )}\n\n                    {!!props.issuerImageUrl && (\n                        <span className=\"adyen-checkout__voucher-result__image__wrapper\">\n                            <img alt={props.paymentMethodType} className=\"adyen-checkout__voucher-result__image__issuer\" src={props.issuerImageUrl} />\n                        </span>\n                    )}\n                </div>\n\n                <div className=\"adyen-checkout__voucher-result__introduction\">\n                    {props.introduction}{' '}\n                    {props.instructionsUrl && (\n                        <a\n                            className=\"adyen-checkout-link adyen-checkout-link--voucher-result-instructions\"\n                            href={props.instructionsUrl}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            {i18n.get('voucher.readInstructions')} â€º\n                        </a>\n                    )}\n                </div>\n\n                {props.amount && (\n                    <div className=\"adyen-checkout__voucher-result__amount\">\n                        {props.amount}\n\n                        {props.surcharge && (\n                            <span className=\"adyen-checkout__voucher-result__surcharge\">\n                                ({i18n.get('voucher.surcharge').replace('%@', props.surcharge)})\n                            </span>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {props.reference && (\n                <div className=\"adyen-checkout__voucher-result__separator\">\n                    <div className=\"adyen-checkout__voucher-result__separator__inner\" />\n                    <div className=\"adyen-checkout__voucher-result__code__label\">\n                        <span className=\"adyen-checkout__voucher-result__code__label__text\">{i18n.get('voucher.paymentReferenceLabel')}</span>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"adyen-checkout__voucher-result__bottom\">\n                {props.reference && (\n                    <div className=\"adyen-checkout__voucher-result__code\">\n                        {props.barcode && (\n                            <img\n                                alt={i18n.get('voucher.paymentReferenceLabel')}\n                                className=\"adyen-checkout__voucher-result__code__barcode\"\n                                src={props.barcode}\n                            />\n                        )}\n                        <span>{props.reference}</span>\n                    </div>\n                )}\n\n                {(!!props.downloadUrl || !!props.copyBtn) && (\n                    <ul className=\"adyen-checkout__voucher-result__actions\">\n                        {!!props.copyBtn && (\n                            <li className=\"adyen-checkout__voucher-result__actions__item\">\n                                <Button\n                                    inline\n                                    variant=\"action\"\n                                    onClick={(e, { complete }) => {\n                                        copyToClipboard(props.reference);\n                                        complete();\n                                    }}\n                                    icon={getImage({ imageFolder: 'components/' })(`${PREFIX}copy`)}\n                                    label={i18n.get('button.copy')}\n                                />\n                            </li>\n                        )}\n\n                        {!!props.downloadUrl && (\n                            <li className=\"adyen-checkout__voucher-result__actions__item\">\n                                <Button\n                                    inline\n                                    variant=\"action\"\n                                    href={props.downloadUrl}\n                                    icon={getImage({ imageFolder: 'components/' })(`${PREFIX}download`)}\n                                    label={props.downloadButtonText || i18n.get('button.download')}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                />\n                            </li>\n                        )}\n                    </ul>\n                )}\n\n                <DetailsTable tableFields={voucherDetails} />\n            </div>\n        </div>\n    );\n}\n"],"names":["Voucher","_param","props","voucherDetails","className","_object_without_properties","i18n","useCoreContext","getImage","useImage","onActionHandled","componentType","paymentMethodType","actionDescription","h","div","classNames","imageUrl","span","img","alt","src","issuerImageUrl","introduction","instructionsUrl","a","href","target","rel","get","amount","surcharge","replace","reference","barcode","downloadUrl","copyBtn","ul","li","Button","inline","variant","onClick","e","complete","copyToClipboard","icon","imageFolder","PREFIX","label","downloadButtonText","DetailsTable","tableFields"],"mappings":"4xBAYe,SAASA,EAAQC,OAI5BC,GAJ4BC,eAAEA,EAAiB,GAAEC,UAAEA,EAAY,IAAnCH,EAA0CC,EAA1CG,EAAAJ,EAAA,CAAEE,iBAAqBC,cACnD,MAAME,KAAEA,GAASC,IACXC,EAAWC,IAIjB,OAFAP,QAAAA,EAAAA,EAAMQ,uBAANR,IAAAA,GAAAA,OAAAA,EAAwB,CAAES,cAAeT,EAAMU,kBAAmBC,kBAAmB,sBAGjFC,EAACC,MAAAA,CAAIX,UAAWY,EAAW,iCAAkC,mCAAmCd,EAAMU,oBAAqBR,IACvHU,EAACC,MAAAA,CAAIX,UAAU,uCACXU,EAACC,MAAAA,CAAIX,UAAU,2CACRF,EAAMe,UACLH,EAACI,OAAAA,CAAKd,UAAU,kDACZU,EAACK,MAAAA,CAAIC,IAAKlB,EAAMU,kBAAmBR,UAAU,+CAA+CiB,IAAKnB,EAAMe,cAI5Gf,EAAMoB,gBACLR,EAACI,OAAAA,CAAKd,UAAU,kDACZU,EAACK,MAAAA,CAAIC,IAAKlB,EAAMU,kBAAmBR,UAAU,gDAAgDiB,IAAKnB,EAAMoB,mBAKpHR,EAACC,MAAAA,CAAIX,UAAU,gDACVF,EAAMqB,aAAc,IACpBrB,EAAMsB,iBACHV,EAACW,IAAAA,CACGrB,UAAU,uEACVsB,KAAMxB,EAAMsB,gBACZG,OAAO,SACPC,IAAI,uBAEHtB,EAAKuB,IAAI,4BAA4B,OAKjD3B,EAAM4B,QACHhB,EAACC,MAAAA,CAAIX,UAAU,0CACVF,EAAM4B,OAEN5B,EAAM6B,WACHjB,EAACI,OAAAA,CAAKd,UAAU,6CAA4C,IACtDE,EAAKuB,IAAI,qBAAqBG,QAAQ,KAAM9B,EAAM6B,WAAW,OAOlF7B,EAAM+B,WACHnB,EAACC,MAAAA,CAAIX,UAAU,6CACXU,EAACC,MAAAA,CAAIX,UAAU,qDACfU,EAACC,MAAAA,CAAIX,UAAU,+CACXU,EAACI,OAAAA,CAAKd,UAAU,qDAAqDE,EAAKuB,IAAI,oCAK1Ff,EAACC,MAAAA,CAAIX,UAAU,0CACVF,EAAM+B,WACHnB,EAACC,MAAAA,CAAIX,UAAU,wCACVF,EAAMgC,SACHpB,EAACK,MAAAA,CACGC,IAAKd,EAAKuB,IAAI,iCACdzB,UAAU,gDACViB,IAAKnB,EAAMgC,UAGnBpB,EAACI,YAAMhB,EAAM+B,eAIjB/B,EAAMiC,eAAiBjC,EAAMkC,UAC7BtB,EAACuB,KAAAA,CAAGjC,UAAU,6CACPF,EAAMkC,SACLtB,EAACwB,KAAAA,CAAGlC,UAAU,iDACVU,EAACyB,EAAAA,CACGC,QAAAA,EACAC,QAAQ,SACRC,QAAS,CAACC,GAAKC,eACXC,EAAgB3C,EAAM+B,WACtBW,GAAAA,EAEJE,KAAMtC,EAAS,CAAEuC,YAAa,eAAxBvC,CAAyC,GAAGwC,SAClDC,MAAO3C,EAAKuB,IAAI,oBAKzB3B,EAAMiC,aACLrB,EAACwB,KAAAA,CAAGlC,UAAU,iDACVU,EAACyB,EAAAA,CACGC,QAAAA,EACAC,QAAQ,SACRf,KAAMxB,EAAMiC,YACZW,KAAMtC,EAAS,CAAEuC,YAAa,eAAxBvC,CAAyC,GAAGwC,aAClDC,MAAO/C,EAAMgD,oBAAsB5C,EAAKuB,IAAI,mBAC5CF,OAAO,SACPC,IAAI,0BAOxBd,EAACqC,EAAAA,CAAaC,YAAajD,KAI3C"}