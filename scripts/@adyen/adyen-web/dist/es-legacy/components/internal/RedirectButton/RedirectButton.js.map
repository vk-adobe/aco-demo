{"version":3,"file":"RedirectButton.js","sources":["../../../../../src/components/internal/RedirectButton/RedirectButton.tsx"],"sourcesContent":["import { h, Fragment } from 'preact';\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport { useState } from 'preact/hooks';\nimport { PaymentAmount } from '../../../types';\n\n// TODO this should ideally be remove but we need let prop propagate down\n//  probably not worth changing this behaviour now\nexport interface RedirectButtonProps {\n    label?: string;\n    icon?: string;\n    payButton: Function;\n    onSubmit: Function;\n    amount?: PaymentAmount;\n    name: string;\n    showPayButton: boolean;\n    ref?: any;\n}\n\nfunction RedirectButton({ label = null, icon = null, payButton, onSubmit, amount = null, name, showPayButton, ...props }: RedirectButtonProps) {\n    const { i18n } = useCoreContext();\n    const [status, setStatus] = useState('ready');\n\n    this.setStatus = newStatus => {\n        setStatus(newStatus);\n    };\n\n    const payButtonLabel = () => {\n        const isZeroAuth = amount && {}.hasOwnProperty.call(amount, 'value') && amount.value === 0;\n        if (isZeroAuth) return `${i18n.get('preauthorizeWith')} ${name}`;\n        return `${i18n.get('continueTo')} ${name}`;\n    };\n\n    if (!showPayButton) {\n        return;\n    }\n\n    return (\n        <Fragment>\n            {payButton({\n                ...props,\n                status,\n                icon,\n                classNameModifiers: ['standalone'],\n                label: label || payButtonLabel(),\n                onClick: onSubmit\n            })}\n        </Fragment>\n    );\n}\n\nexport default RedirectButton;\n"],"names":["RedirectButton","_param","label","icon","payButton","onSubmit","amount","name","showPayButton","props","_object_without_properties","i18n","useCoreContext","status","setStatus","useState","this","newStatus","h","Fragment","_object_spread_props","classNameModifiers","hasOwnProperty","call","value","get","onClick"],"mappings":"gkCAkBA,SAASA,EAAeC,GAAA,IAAAC,MAAEA,EAAQ,KAAIC,KAAEA,EAAO,KAAIC,UAAEA,EAASC,SAAEA,EAAQC,OAAEA,EAAS,KAAIC,KAAEA,EAAIC,cAAEA,GAAvEP,EAAyFQ,EAAzFC,EAAAT,EAAA,CAAEC,QAAcC,OAAaC,YAAWC,WAAUC,SAAeC,OAAMC,kBAC3F,MAAMG,KAAEA,GAASC,KACVC,EAAQC,GAAaC,EAAS,SAErCC,KAAKF,UAAYG,IACbH,EAAUG,EAAAA,EASd,GAAKT,EAIL,OACIU,EAACC,EACIf,KAAAA,EAAUgB,wUACJX,CAAAA,GAAAA,GAAAA,CACHI,SACAV,OACAkB,mBAAoB,CAAC,cACrBnB,MAAOA,IAhBII,GAAU,CAAC,EAAEgB,eAAeC,KAAKjB,EAAQ,UAA6B,IAAjBA,EAAOkB,MACxD,GAAGb,EAAKc,IAAI,uBAAuBlB,IACnD,GAAGI,EAAKc,IAAI,iBAAiBlB,KAe5BmB,QAASrB,KAIzB"}