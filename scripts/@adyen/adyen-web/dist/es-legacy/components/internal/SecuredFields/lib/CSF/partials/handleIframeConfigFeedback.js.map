{"version":3,"file":"handleIframeConfigFeedback.js","sources":["../../../../../../../../src/components/internal/SecuredFields/lib/CSF/partials/handleIframeConfigFeedback.ts"],"sourcesContent":["// Count how many iframes have successfully been configured and, if its all of them, call callback function\n\nimport { CardAdditionalSFData } from '../../types';\nimport { CSFThisObject } from '../types';\n\n// First, object, param comes from partial implementation\n/**\n * @param csfState - comes from initial, partial, implementation\n * @param csfCallbacks - comes from initial, partial, implementation\n * @param isConfigured - comes from initial, partial, implementation\n *\n * @param pFeedbackObj -\n */\nexport function handleIframeConfigFeedback({ csfState, csfCallbacks }: CSFThisObject, isConfigured, pFeedbackObj): boolean {\n    csfState.iframeConfigCount += 1;\n\n    if (window._b$dl)\n        console.log('### handleIframeConfigFeedback::csfState.iframeConfigCount:: ', csfState.iframeConfigCount, 'who=', pFeedbackObj.fieldType);\n\n    if (!csfState.isConfigured) {\n        if (csfState.iframeConfigCount === csfState.originalNumIframes) {\n            if (process.env.NODE_ENV === 'development' && window._b$dl) {\n                console.log('\\n### handleIframeConfigFeedback::handleIframeConfigFeedback:: ALL IFRAMES CONFIG DO CALLBACK type=', csfState.type);\n            }\n\n            // Announce we're configured to the rest of the system\n            isConfigured();\n\n            return true;\n        }\n    } else {\n        const callbackObj: CardAdditionalSFData = { additionalIframeConfigured: true, fieldType: pFeedbackObj.fieldType, type: csfState.type };\n        csfCallbacks.onAdditionalSFConfig(callbackObj);\n    }\n\n    return false;\n}\n"],"names":["handleIframeConfigFeedback","csfState","csfCallbacks","isConfigured","pFeedbackObj","iframeConfigCount","window","_b$dl","console","log","fieldType","callbackObj","additionalIframeConfigured","type","onAdditionalSFConfig","originalNumIframes"],"mappings":"AAaO,SAASA,GAA2BC,SAAEA,EAAQC,aAAEA,GAA+BC,EAAcC,GAMhG,GALAH,EAASI,mBAAqB,EAE1BC,OAAOC,OACPC,QAAQC,IAAI,gEAAiER,EAASI,kBAAmB,OAAQD,EAAaM,WAE7HT,EAASE,aAWP,CACH,MAAMQ,EAAoC,CAAEC,4BAA4B,EAAMF,UAAWN,EAAaM,UAAWG,KAAMZ,EAASY,MAChIX,EAAaY,qBAAqBH,EACtC,MAbI,GAAIV,EAASI,oBAAsBJ,EAASc,mBAQxC,OAFAZ,KAEO,EAOf,OAAO,CACX"}