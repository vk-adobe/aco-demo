{"version":3,"file":"createIframe.js","sources":["../../../../../../../../src/components/internal/SecuredFields/lib/securedField/utils/createIframe.ts"],"sourcesContent":["export default function createIframe({ src, title = 'iframe element', policy = 'origin' }) {\n    const iframeEl = document.createElement('iframe');\n    iframeEl.setAttribute('src', src);\n    iframeEl.classList.add('js-iframe');\n    // For a11y some merchants want to be able to remove the title element on the iframe - seeing the info it carries as extraneous for the screenreader\n    if (title === '' || title.trim().length === 0 || title === 'none') {\n        iframeEl.setAttribute('role', 'presentation');\n    } else {\n        iframeEl.setAttribute('title', title);\n    }\n\n    iframeEl.setAttribute('allowtransparency', 'true');\n    iframeEl.setAttribute('referrerpolicy', policy); // Necessary for ClientKey to work\n    // Commenting out stops the \"The devicemotion events are blocked by feature policy\" warning in Chrome >=66 that some merchant experienced\n    // Commenting in stops the same warnings in development (??)\n    if (process.env.NODE_ENV === 'development') {\n        iframeEl.setAttribute('allow', 'accelerometer; gyroscope');\n    }\n\n    const noIframeElContent = document.createTextNode('<p>Your browser does not support iframes.</p>');\n    iframeEl.appendChild(noIframeElContent);\n\n    return iframeEl;\n}\n"],"names":["createIframe","src","title","policy","iframeEl","document","createElement","setAttribute","classList","add","trim","length","noIframeElContent","createTextNode","appendChild"],"mappings":"AAAe,SAASA,GAAaC,IAAEA,EAAGC,MAAEA,EAAQ,iBAAgBC,OAAEA,EAAS,WAC3E,MAAMC,EAAWC,SAASC,cAAc,UACxCF,EAASG,aAAa,MAAON,GAC7BG,EAASI,UAAUC,IAAI,aAET,KAAVP,GAAwC,IAAxBA,EAAMQ,OAAOC,QAA0B,SAAVT,EAC7CE,EAASG,aAAa,OAAQ,gBAE9BH,EAASG,aAAa,QAASL,GAGnCE,EAASG,aAAa,oBAAqB,QAC3CH,EAASG,aAAa,iBAAkBJ,GAOxC,MAAMS,EAAoBP,SAASQ,eAAe,iDAGlD,OAFAT,EAASU,YAAYF,GAEdR,CACX"}