{"version":3,"file":"CartSummaryList.js","sources":["../../node_modules/@adobe-commerce/elsie/src/icons/ChevronRight.svg","/@dropins/storefront-cart/src/components/CartSummaryList/CartSummaryList.tsx","/@dropins/storefront-cart/src/containers/CartSummaryList/CartSummaryList.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgChevronRight = (props) => /* @__PURE__ */ React.createElement(\"svg\", { id: \"Icon_Chevron_right_Base\", \"data-name\": \"Icon \\\\u2013 Chevron right \\\\u2013 Base\", xmlns: \"http://www.w3.org/2000/svg\", width: 24, height: 24, viewBox: \"0 0 24 24\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { id: \"Large\" }, /* @__PURE__ */ React.createElement(\"rect\", { id: \"Placement_area\", \"data-name\": \"Placement area\", width: 24, height: 24, fill: \"#fff\", opacity: 0 }), /* @__PURE__ */ React.createElement(\"g\", { id: \"Chevron_right_icon\", \"data-name\": \"Chevron right icon\" }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", id: \"chevron\", d: \"M199.75,367.5l4.255,-4.255-4.255,-4.255\", transform: \"translate(-189.25 -351.0)\", fill: \"none\", stroke: \"currentColor\" }))));\nexport default SvgChevronRight;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { classes, VComponent } from '@adobe-commerce/elsie/lib';\nimport { Divider, Skeleton, SkeletonRow } from '@adobe-commerce/elsie/components';\n\nimport '@/cart/components/CartSummaryList/CartSummaryList.css';\nexport interface CartSummaryListProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'loading'> {\n  heading?: VNode | null;\n  footer?: VNode | null;\n  emptyCart: VNode;\n  products?: VNode | null;\n  outOfStockMessage?: VNode | null;\n  loading?: boolean;\n  variant?: 'primary' | 'secondary';\n}\n\nexport const CartSummaryList: FunctionComponent<CartSummaryListProps> = ({\n  className,\n  children,\n  heading,\n  footer,\n  emptyCart,\n  products,\n  outOfStockMessage,\n  variant = 'primary',\n  loading = true,\n  ...props\n}) => {\n  return (\n    <div\n      {...props}\n      className={classes([\n        'cart-cart-summary-list',\n        className,\n        `cart-cart-summary-list__background--${variant}`,\n      ])}\n    >\n      {loading ? (\n        <CartSummaryListSkeleton />\n      ) : (\n        <>\n          {(heading || outOfStockMessage) && (\n            <div\n              data-testid=\"cart-summary-list-heading-wrapper\"\n              className={classes([\n                'cart-cart-summary-list__heading',\n                ['cart-cart-summary-list__heading--full-width', !products],\n              ])}\n            >\n              {heading && (\n                <>\n                  <VComponent\n                    node={heading}\n                    className=\"cart-cart-summary-list__heading-text\"\n                  />\n                  <Divider\n                    variant=\"primary\"\n                    className={classes([\n                      'cart-cart-summary-list__heading-divider',\n                    ])}\n                  />\n                </>\n              )}\n\n              {outOfStockMessage && (\n                <VComponent\n                  node={outOfStockMessage}\n                  className=\"cart-cart-summary-list__out-of-stock-message\"\n                />\n              )}\n            </div>\n          )}\n          <div\n            className={classes([\n              'cart-cart-summary-list__content',\n              ['cart-cart-summary-list__content--empty', !products],\n            ])}\n          >\n            {products || (\n              <VComponent\n                node={emptyCart}\n                className=\"cart-cart-summary-list__empty-cart\"\n              />\n            )}\n          </div>\n\n          {footer && (\n            <>\n              <Divider\n                variant=\"primary\"\n                className={classes(['cart-cart-summary-list__footer-divider'])}\n              />\n              <VComponent\n                node={footer}\n                className=\"cart-cart-summary-list__footer-text\"\n              />\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nconst CartSummaryListSkeleton: FunctionComponent = () => {\n  return (\n    <Skeleton\n      data-testid=\"cart-summary-list-skeleton\"\n      className=\"cart-cart-summary-list__skeleton\"\n      rowGap=\"medium\"\n    >\n      <SkeletonRow\n        variant=\"row\"\n        size=\"xlarge\"\n        fullWidth={true}\n        lines={3}\n        multilineGap=\"small\"\n      />\n    </Skeleton>\n  );\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2024 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport {\n  HTMLAttributes,\n  useCallback,\n  useEffect,\n  useState,\n} from 'preact/compat';\nimport { Container, Slot, SlotProps, classes } from '@adobe-commerce/elsie/lib';\n\nimport {\n  CartSummaryList as CartSummaryListComponent,\n  EmptyCart,\n} from '@/cart/components';\n\nimport { getPersistedCartData } from '@/cart/lib/persisted-data';\nimport { CartModel } from '@/cart/data/models/cart-model';\nimport {\n  Accordion,\n  AccordionSection,\n  Button,\n  CartItem,\n  CartList,\n  Icon,\n  Image,\n  ImageProps,\n  InLineAlert,\n  Price,\n  PriceProps,\n} from '@adobe-commerce/elsie/components';\nimport { useText } from '@adobe-commerce/elsie/i18n';\nimport { VNode } from 'preact';\nimport { events, Cart } from '@adobe-commerce/event-bus';\nimport { state } from '@/cart/lib/state';\nimport {\n  ChevronDown,\n  ChevronRight,\n  OrderError,\n  WarningWithCircle,\n} from '@adobe-commerce/elsie/icons';\nimport { updateProductsFromCart } from '@/cart/api';\n\nexport interface CartSummaryListProps extends HTMLAttributes<HTMLDivElement> {\n  hideHeading?: boolean;\n  hideFooter?: boolean;\n  routeProduct?: (item: CartModel['items'][0]) => string;\n  routeEmptyCartCTA?: () => string;\n  routeCart?: () => string;\n  onItemUpdate?: ({ item }: { item: CartModel['items'][0] }) => void;\n  onItemRemove?: ({ item }: { item: CartModel['items'][0] }) => void;\n  maxItems?: number; // Maximum number of items to display\n  showMaxItems?: boolean;\n  attributesToHide?: SwitchableAttributes[]; // Product attributes to hide\n  slots?: {\n    Heading?: SlotProps;\n    EmptyCart?: SlotProps;\n    Footer?: SlotProps;\n    Thumbnail?: SlotProps<{\n      item: CartModel['items'][number],\n      defaultImageProps: ImageProps\n    }>;\n    ProductAttributes?: SlotProps;\n    CartSummaryFooter?: SlotProps;\n    CartItem?: SlotProps;\n  };\n  enableRemoveItem?: boolean;\n  enableUpdateItemQuantity?: boolean;\n  onItemsErrorsChange?: (errors: Map<string, string>) => void;\n  accordion?: boolean;\n  variant?: 'primary' | 'secondary';\n  isLoading?: boolean;\n  showDiscount?: boolean;\n  showSavings?: boolean;\n  quantityType?: 'stepper' | 'dropdown';\n  dropdownOptions?: { value: string; text: string }[];\n}\n\n// Attributes that can be hidden or shown\nexport type SwitchableAttributes =\n  | 'name'\n  | 'image'\n  | 'configurations'\n  | 'warning'\n  | 'alert'\n  | 'sku'\n  | 'price'\n  | 'quantity'\n  | 'total'\n  | 'totalDiscount'\n  | 'totalExcludingTax';\n\nexport const CartSummaryList: Container<\n  CartSummaryListProps,\n  CartModel | null\n> = ({\n  initialData = null,\n  hideHeading,\n  hideFooter,\n  routeProduct,\n  routeEmptyCartCTA,\n  routeCart,\n  onItemUpdate,\n  onItemRemove,\n  maxItems, //if maxItems is not provided, default to show all items\n  slots,\n  attributesToHide = [],\n  enableRemoveItem,\n  enableUpdateItemQuantity,\n  onItemsErrorsChange,\n  accordion = false,\n  variant = 'primary',\n  isLoading,\n  showMaxItems,\n\n  showDiscount,\n  showSavings,\n  quantityType,\n  dropdownOptions,\n  ...props\n}) => {\n  const [loading, setLoading] = useState(!initialData);\n\n  const [cartModelData, setCartModelData] = useState<CartModel | null>(\n    initialData\n  );\n  const [itemsLoading, setItemLoading] = useState<Set<string>>(new Set());\n\n  const [itemsErrors, setItemErrors] = useState<Map<string, string>>(new Map());\n\n  const cartTaxesConfig = state.config?.shoppingCartDisplaySetting;\n\n  const [displayMaxItems, setDisplayMaxItems] = useState<boolean>(\n    showMaxItems ? true : !maxItems && !showMaxItems\n  );\n\n  const dictionary = useText({\n    file: 'Cart.CartItem.file',\n    files: 'Cart.CartItem.files',\n    heading: 'Cart.Cart.heading',\n    message: 'Cart.CartItem.message',\n    recipient: 'Cart.CartItem.recipient',\n    regularPrice: 'Cart.CartItem.regularPrice',\n    discountedPrice: 'Cart.CartItem.discountedPrice',\n    sender: 'Cart.CartItem.sender',\n    lowInventory: 'Cart.CartItem.lowInventory',\n    insufficientQuantity: 'Cart.CartItem.insufficientQuantity',\n    insufficientQuantityGeneral: 'Cart.CartItem.insufficientQuantityGeneral',\n    outOfStockHeading: 'Cart.OutOfStockMessage.heading',\n    outOfStockDescription: 'Cart.OutOfStockMessage.message',\n    outOfStockAlert: 'Cart.OutOfStockMessage.alert',\n    removeAction: 'Cart.OutOfStockMessage.action',\n    notAvailableMessage: 'Cart.CartItem.notAvailableMessage',\n    viewMore: 'Cart.Cart.viewMore',\n    viewAll: 'Cart.Cart.viewAll',\n    discountPercent: 'Cart.CartItem.discountPercentage',\n    savingsAmount: 'Cart.CartItem.savingsAmount',\n    \n  });\n\n  const handleItemsLoading = (uid: string, state: boolean) => {\n    setItemLoading((prev) => {\n      state ? prev.add(uid) : prev.delete(uid);\n      return new Set(prev);\n    });\n  };\n\n  const handleItemsError = (uid: string, message?: string) => {\n    setItemErrors((prev) => {\n      message ? prev.set(uid, message) : prev.delete(uid);\n      return new Map(prev);\n    });\n  };\n\n  const handleItemQuantityUpdate = (\n    item: CartModel['items'][0],\n    quantity: number\n  ) => {\n    // initial values\n    handleItemsLoading(item.uid, true);\n\n    // Reset temporary error messages\n    setItemErrors(new Map());\n\n    if (enableRemoveItem && quantity === 0) {\n      // use callback for removing\n      updateProductsFromCart([{ uid: item.uid, quantity }])\n        .then(() => {\n          onItemRemove?.({ item });\n        })\n        .finally(() => {\n          handleItemsLoading(item.uid, false);\n        })\n        .catch((error: any) => {\n          console.warn(error);\n        });\n    }\n    // use callback for updating\n    else {\n      enableUpdateItemQuantity &&\n        updateProductsFromCart([{ uid: item.uid, quantity }])\n          .then(() => {\n            onItemUpdate?.({ item });\n          })\n          .finally(() => {\n            handleItemsLoading(item.uid, false);\n          })\n          .catch((error: Error) => {\n            handleItemsError(item.uid, error.message);\n          });\n    }\n  };\n\n  // Display max items\n  const handleMaxItemsView = useCallback(() => {\n    setDisplayMaxItems((prev) => !prev);\n  }, []);\n\n  useEffect(() => {\n    const cartDataEvent = events.on(\n      'cart/data',\n      (payload: Cart | null) => {\n        setCartModelData(payload as CartModel);\n        setLoading(!!isLoading);\n      },\n      { eager: true }\n    );\n\n    return () => {\n      cartDataEvent?.off();\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Call onItemsErrorsChange whenever itemsErrors changes\n  useEffect(() => {\n    if (onItemsErrorsChange) {\n      onItemsErrorsChange(itemsErrors);\n    }\n  }, [itemsErrors, onItemsErrorsChange]);\n\n  // Helper functions\n  const getImage = (item: CartModel['items'][0], index: number) => {\n    if (attributesToHide.includes('image')) {\n      return undefined;\n    }\n\n    const defaultImageProps: ImageProps = {\n      loading: index < 4 ? 'eager' : 'lazy',\n      src: item.image.src,\n      alt: item.image.alt,\n      width: '300',\n      height: '300',\n      params: { width: 300 },\n    };\n\n    const imageComponent = (\n      <Image\n        data-testid=\"cart-list-item-image\"\n        {...defaultImageProps}\n      />\n    );\n    return (\n      <Slot\n        name=\"Thumbnail\"\n        slot={slots?.Thumbnail}\n        context={{\n          item,\n          defaultImageProps,\n        }}\n      >\n        {routeProduct ? (\n          <a href={routeProduct(item)}>{imageComponent}</a>\n        ) : (\n          imageComponent\n        )}\n      </Slot>\n    );\n  };\n\n  const getTitle = (item: CartModel['items'][0]) => {\n    if (attributesToHide.includes('name')) {\n      return undefined;\n    }\n\n    return (\n      <span data-testid=\"cart-list-item-title\">\n        {routeProduct ? (\n          <a href={routeProduct(item)}>{item.name}</a>\n        ) : (\n          item.name\n        )}\n      </span>\n    );\n  };\n\n  const getConfiguration = (item: CartModel['items'][0]) => {\n    if (attributesToHide.includes('configurations')) {\n      return undefined;\n    }\n\n    const configuration = {\n      ...item.bundleOptions,\n      ...item.selectedOptions,\n      ...item.customizableOptions,\n      ...(item.recipient ? { [dictionary.recipient]: item.recipient } : null),\n      ...(item.recipientEmail && item.recipient\n        ? {\n            [dictionary.recipient]: `${item.recipient} (${item.recipientEmail})`,\n          }\n        : null),\n      ...(item.sender ? { [dictionary.sender]: item.sender } : null),\n      ...(item.senderEmail && item.sender\n        ? {\n            [dictionary.sender]: `${item.sender} (${item.senderEmail})`,\n          }\n        : {}),\n      ...(item.message ? { [dictionary.message]: item.message } : null),\n      ...(item.links && item.links.count\n        ? item.links.count > 1\n          ? {\n              [dictionary.files.replace(\n                '{count}',\n                item.links.count.toString()\n              )]: item.links.result,\n            }\n          : {\n              [dictionary.file.replace('{count}', item.links.count.toString())]:\n                item.links.result,\n            }\n        : null),\n    };\n\n    if (Object.keys(configuration).length === 0) {\n      return undefined;\n    }\n\n    return configuration;\n  };\n\n  const getPriceProps = (item: CartModel['items'][0]) => {\n    return cartTaxesConfig?.price === 'INCLUDING_TAX'\n      ? item.discounted\n        ? {\n            amount: item.regularPrice.value,\n            currency: item.regularPrice.currency,\n            style: { font: 'inherit' },\n            'data-testid': 'including-tax-item-price',\n          }\n        : {\n            amount: item.taxedPrice?.value,\n            currency: item.taxedPrice?.currency,\n            style: { font: 'inherit' },\n            'data-testid': 'including-tax-item-price',\n          }\n      : {\n          amount: item.regularPrice?.value,\n          currency: item.regularPrice?.currency,\n          style: { font: 'inherit' },\n          'data-testid': 'regular-item-price',\n        };\n  };\n\n  const getSavingsAmount = (item: CartModel['items'][0]) => {\n    return {\n      amount: item.savingsAmount?.value,\n      currency: item.savingsAmount?.currency,\n      style: { font: 'inherit' },\n      'data-testid': 'item-savings-amount',\n    };\n  };\n\n  const getTotalExcludingTax = (item: CartModel['items'][0]) => {\n    return cartTaxesConfig?.price === 'INCLUDING_EXCLUDING_TAX' ? (\n      <Price\n        amount={item.rowTotal.value}\n        currency={item.rowTotal.currency}\n        data-testid=\"excluding-tax-total\"\n        aria-label={dictionary.regularPrice}\n      />\n    ) : undefined;\n  };\n\n  const getTotalPriceProps = (item: CartModel['items'][0]) => {\n    const totalProps: PriceProps = {\n      'aria-label': dictionary.regularPrice,\n    };\n    const discountProps: PriceProps | null = item.discounted ? {} : null;\n\n    if (\n      ['INCLUDING_TAX', 'INCLUDING_EXCLUDING_TAX'].includes(\n        cartTaxesConfig?.price as string\n      )\n    ) {\n      totalProps['amount'] = item.rowTotalIncludingTax?.value;\n      totalProps['currency'] = item.rowTotalIncludingTax?.currency;\n      totalProps['variant'] = item.discounted ? 'strikethrough' : 'default';\n      // @ts-ignore\n      totalProps['data-testid'] = 'including-tax-item-total';\n\n      if (discountProps) {\n        totalProps['amount'] = item.total?.value;\n        totalProps['currency'] = item.total?.currency;\n\n        discountProps['amount'] = item.rowTotalIncludingTax?.value;\n        discountProps['currency'] = item.rowTotalIncludingTax?.currency;\n        discountProps['sale'] = true;\n        discountProps['aria-label'] = dictionary.discountedPrice;\n        // @ts-ignore\n        discountProps['data-testid'] = 'discount-total';\n      }\n    } else {\n      totalProps['amount'] = item.total?.value;\n      totalProps['currency'] = item.total?.currency;\n      totalProps['variant'] = item.discounted ? 'strikethrough' : 'default';\n      // @ts-ignore\n      totalProps['data-testid'] = 'regular-item-total';\n\n      if (discountProps) {\n        discountProps['amount'] = item.discountedTotal?.value;\n        discountProps['currency'] = item.discountedTotal?.currency;\n        discountProps['sale'] = true;\n        discountProps['aria-label'] = dictionary.regularPrice;\n        // @ts-ignore\n        discountProps['data-testid'] = 'discount-total';\n      }\n    }\n\n    return {\n      totalProps,\n      discountProps,\n    };\n  };\n\n  const getWarning = (item: CartModel['items'][0]) => {\n    if (attributesToHide.includes('warning')) {\n      return undefined;\n    }\n\n    const error = itemsErrors.get(item.uid);\n    const quantityError = itemsErrors\n      .get(item.uid)\n      ?.includes('The requested qty is not available');\n    const itemIsLoading = itemsLoading.has(item.uid);\n\n    const insufficientQuantityText =\n      item.insufficientQuantity && item.stockLevel\n        ? item.stockLevel === 'noNumber'\n          ? dictionary.insufficientQuantityGeneral\n          : dictionary.insufficientQuantity\n              .replace('{inventory}', item.stockLevel?.toString())\n              .replace('{count}', item.quantity.toString())\n        : '';\n\n    const lowInventoryText =\n      item.lowInventory &&\n      item.onlyXLeftInStock &&\n      dictionary.lowInventory.replace(\n        '{count}',\n        item.onlyXLeftInStock?.toString()\n      );\n\n    const notAvailableQuantity =\n      !item.outOfStock && error && quantityError\n        ? dictionary.notAvailableMessage\n        : error;\n\n    return !itemIsLoading &&\n      (error || item.insufficientQuantity || item.lowInventory) ? (\n      <span data-testid=\"item-warning\">\n        <Icon source={WarningWithCircle} size={'16'} />\n        {notAvailableQuantity || insufficientQuantityText || lowInventoryText}\n      </span>\n    ) : undefined;\n  };\n\n  const getAlert = (item: CartModel['items'][0]) => {\n    if (attributesToHide?.includes('alert')) {\n      return undefined;\n    }\n    const itemIsLoading = itemsLoading.has(item.uid);\n\n    return !itemIsLoading && item.outOfStock ? (\n      <span data-testid=\"item-alert\">\n        <Icon source={OrderError} size={'16'} />\n        {dictionary.outOfStockAlert}\n      </span>\n    ) : undefined;\n  };\n\n  const getProductAttributes = (item: CartModel['items'][0]) => {\n    return (\n      <Slot\n        name=\"ProductAttributes\"\n        slot={slots?.ProductAttributes}\n        context={{\n          item,\n        }}\n      />\n    );\n  };\n\n  const getSku = (item: CartModel['items'][0]) => {\n    if (attributesToHide.includes('sku')) {\n      return undefined;\n    }\n    return <span data-testid=\"cart-list-item-sku\">{item.sku}</span>;\n  };\n\n  const getFooter = (item: CartModel['items'][0]) => {\n    return (\n      <Slot\n        name=\"Footer\"\n        slot={slots?.Footer}\n        context={{ item, handleItemsLoading, handleItemsError, onItemUpdate }}\n      />\n    );\n  };\n\n  // Re-usable function to get a filtered list of cart items\n  const getCartItemEntries = (\n    filterCallback: (item: CartModel['items'][0]) => boolean\n  ) => {\n    return cartModelData?.totalQuantity\n      ? cartModelData.items.filter(filterCallback).map((item, index) => {\n          const { totalProps, discountProps } = getTotalPriceProps(item);\n\n          const defaultCartItem = (\n            <CartItem\n              updating={itemsLoading?.has(item.uid)}\n              loading={loading}\n              key={item.uid}\n              data-testid={`cart-list-item-entry-${item.uid}`}\n              image={getImage(item, index)}\n              title={getTitle(item)}\n              sku={getSku(item)}\n              price={\n                attributesToHide.includes('price') ? undefined : (\n                  <Price {...getPriceProps(item)} />\n                )\n              }\n              quantity={\n                attributesToHide.includes('quantity')\n                  ? undefined\n                  : item.quantity\n              }\n              total={\n                <>\n                  {attributesToHide.includes('total') ? undefined : (\n                    <Price {...totalProps} />\n                  )}\n                  {attributesToHide.includes('totalDiscount')\n                    ? undefined\n                    : discountProps && <Price {...discountProps} />}\n                </>\n              }\n              attributes={getProductAttributes(item)}\n              configurations={getConfiguration(item)}\n              totalExcludingTax={\n                attributesToHide.includes('totalExcludingTax')\n                  ? undefined\n                  : getTotalExcludingTax(item)\n              }\n              taxIncluded={cartTaxesConfig?.price === 'INCLUDING_TAX'}\n              taxExcluded={\n                !attributesToHide.includes('totalExcludingTax') &&\n                cartTaxesConfig?.price === 'INCLUDING_EXCLUDING_TAX'\n              }\n              warning={getWarning(item)}\n              alert={getAlert(item)}\n              quantityType={quantityType}\n              dropdownOptions={dropdownOptions}\n              onQuantity={\n                enableUpdateItemQuantity\n                  ? (newQuantity) => {\n                      handleItemQuantityUpdate(item, newQuantity);\n                    }\n                  : undefined\n              }\n              onRemove={\n                enableRemoveItem\n                  ? () => handleItemQuantityUpdate(item, 0)\n                  : undefined\n              }\n              discount={\n                showDiscount && item.discounted && item.discountPercentage ? (\n                  <div data-testid=\"item-discount-percent\">\n                    {dictionary.discountPercent.replace(\n                      '{discount}',\n                      item.discountPercentage?.toString() ?? ''\n                    )}\n                  </div>\n                ) : undefined\n              }\n              savings={\n                showSavings && item.discounted && item.savingsAmount ? (\n                  <div>\n                    <span>\n                      <Price {...getSavingsAmount(item)} />\n                    </span>\n                    &nbsp;\n                    {dictionary.savingsAmount}\n                  </div>\n                ) : undefined\n              }\n              footer={getFooter(item)}\n            />\n          );\n\n          return (\n            <Slot\n              key={item.uid}\n              name=\"CartItem\"\n              slot={slots?.CartItem}\n              context={{\n                item,\n                index,\n                enableUpdateItemQuantity,\n                enableRemoveItem,\n                itemsLoading,\n                loading,\n                attributesToHide,\n                cartTaxesConfig,\n                quantityType,\n                dropdownOptions,\n                showDiscount,\n                showSavings,\n                dictionary,\n                getImage,\n                getTitle,\n                getSku,\n                getPriceProps,\n                getTotalPriceProps,\n                getProductAttributes,\n                getConfiguration,\n                getTotalExcludingTax,\n                getWarning,\n                getAlert,\n                getFooter,\n                getSavingsAmount\n              }}\n            >\n              {defaultCartItem}\n            </Slot>\n          );\n        })\n      : null;\n  };\n\n  const emptyCart = (\n    <Slot name=\"EmptyCart\" slot={slots?.EmptyCart} context={{}}>\n      <EmptyCart data-testid=\"empty-cart\" ctaLinkURL={routeEmptyCartCTA?.()} />\n    </Slot>\n  );\n\n  const heading = (\n    <Slot\n      name=\"Heading\"\n      slot={slots?.Heading}\n      context={{\n        count: cartModelData?.totalQuantity,\n      }}\n    >\n      <div data-testid=\"default-cart-heading\">\n        {dictionary.heading.replace(\n          '({count})',\n          cartModelData?.totalQuantity\n            ? `(${cartModelData?.totalQuantity.toString()})`\n            : ''\n        )}\n      </div>\n    </Slot>\n  );\n\n  // Heading Section text for screen reader\n  const headingSection = heading.props.children.props.children;\n\n  // Out of Stock Items\n  const handleRemoveOutOfStockItems = () => {\n    const outOfStockItems = cartModelData?.items.filter(\n      (item) => item.outOfStock\n    );\n\n    outOfStockItems?.forEach((item) => {\n      handleItemQuantityUpdate(item, 0);\n    });\n  };\n\n  const outOfStockEntries = getCartItemEntries(\n    (item) => item.outOfStock || item.insufficientQuantity || false\n  );\n\n  const outOfStockMessage = cartModelData?.hasOutOfStockItems ? (\n    <InLineAlert\n      data-testid=\"cart-out-of-stock-message\"\n      icon={<Icon source={OrderError} size={'16'} />}\n      itemList={\n        <CartList data-testid=\"out-of-stock-cart-items\">\n          {outOfStockEntries}\n        </CartList>\n      }\n      type=\"warning\"\n      heading={dictionary.outOfStockHeading}\n      description={dictionary.outOfStockDescription}\n      variant=\"primary\"\n      actionButtonPosition=\"bottom\"\n      additionalActions={\n        cartModelData?.hasFullyOutOfStockItems && enableRemoveItem\n          ? [\n              {\n                label: dictionary.removeAction,\n                onClick: handleRemoveOutOfStockItems,\n              },\n            ]\n          : undefined\n      }\n    />\n  ) : undefined;\n\n  // Main Product Entries\n  const mainProductEntries = getCartItemEntries(\n    (item) => !item.outOfStock && !item.insufficientQuantity\n  );\n\n  const numOfVisibleItems = displayMaxItems\n    ? Math.max(maxItems || 5, 5)\n    : Math.min(cartModelData?.totalQuantity || 5, 5);\n\n  const hasHiddenItems = cartModelData?.totalQuantity > numOfVisibleItems;\n\n  const canDisplayMoreItems =\n    hasHiddenItems && !displayMaxItems && numOfVisibleItems != maxItems;\n\n  const footerActions =\n    cartModelData?.totalQuantity && mainProductEntries ? (\n      <Slot\n        name=\"Footer\"\n        slot={slots?.CartSummaryFooter}\n        context={{ displayMaxItems, routeCart }}\n        data-testid=\"cart-cart-summary-footer-slot\"\n        className=\"cart-cart-summary-footer\"\n      >\n          {hasHiddenItems ? (\n            canDisplayMoreItems ? (\n              <Button\n                className=\"cart-cart-summary-list-footer__action\"\n                onClick={handleMaxItemsView}\n                data-testid=\"view-more-items-button\"\n                variant=\"tertiary\"\n              >\n                {dictionary.viewMore}\n              </Button>\n            ) : (\n              routeCart && (\n                <Button\n                  className=\"cart-cart-summary-list-footer__action\"\n                  href={routeCart()}\n                  variant=\"tertiary\"\n                  data-testid=\"view-cart-or-less-items-button\"\n                >\n                  {dictionary.viewAll}\n                </Button>\n              )\n            )\n          ) : (\n            routeCart && (\n              <Button\n                className=\"cart-cart-summary-list-footer__action\"\n                href={routeCart()}\n                variant=\"tertiary\"\n                data-testid=\"view-cart-button\"\n              >\n                {dictionary.viewAll}\n              </Button>\n            )\n          )}\n      </Slot>\n    ) : null;\n\n  // Product Entries - Min 5 items to display per UX request\n  const productEntries = cartModelData?.totalQuantity\n    ? ((\n        <CartList data-testid=\"cart-list\">\n          {mainProductEntries?.slice(\n            0,\n            displayMaxItems\n              ? Math.max(!maxItems ? cartModelData?.totalQuantity : maxItems, 5)\n              : Math.min(maxItems ?? 5, 5)\n          )}\n        </CartList>\n      ) as VNode | null)\n    : null;\n\n  return accordion ? (\n    <Accordion\n      data-testid=\"cart-summary-list-accordion\"\n      className={classes([\n        `cart-cart-summary-list-accordion`,\n        `cart-cart-summary-list__background--${variant}`,\n      ])}\n      iconOpen={ChevronRight}\n      iconClose={ChevronDown}\n    >\n      <AccordionSection\n        title={headingSection}\n        data-testid=\"cart-summary-list-accordion__section\"\n        open={true}\n        renderContentWhenClosed={true}\n      >\n        <CartSummaryListComponent\n          {...props}\n          aria-expanded={true}\n          aria-label={'TEST'}\n          className={`cart-cart-summary-list-accordion__list`}\n          loading={loading}\n          footer={\n            hideFooter\n              ? undefined\n              : footerActions || (routeCart ? footerActions : undefined)\n          }\n          emptyCart={emptyCart}\n          products={productEntries}\n          outOfStockMessage={outOfStockMessage}\n          variant={variant}\n        />\n      </AccordionSection>\n    </Accordion>\n  ) : (\n    <CartSummaryListComponent\n      {...props}\n      heading={hideHeading ? undefined : heading}\n      footer={\n        hideFooter\n          ? undefined\n          : footerActions || (routeCart ? footerActions : undefined)\n      }\n      loading={loading}\n      emptyCart={emptyCart}\n      products={productEntries}\n      outOfStockMessage={outOfStockMessage}\n      variant={variant}\n    />\n  );\n};\n\nCartSummaryList.getInitialData = async function () {\n  return getPersistedCartData();\n};\n"],"names":["SvgChevronRight","props","React","CartSummaryList","className","children","heading","footer","emptyCart","products","outOfStockMessage","variant","loading","jsx","classes","CartSummaryListSkeleton","jsxs","Fragment","VComponent","Divider","Skeleton","SkeletonRow","initialData","hideHeading","hideFooter","routeProduct","routeEmptyCartCTA","routeCart","onItemUpdate","onItemRemove","maxItems","slots","attributesToHide","enableRemoveItem","enableUpdateItemQuantity","onItemsErrorsChange","accordion","isLoading","showMaxItems","showDiscount","showSavings","quantityType","dropdownOptions","setLoading","useState","cartModelData","setCartModelData","itemsLoading","setItemLoading","itemsErrors","setItemErrors","cartTaxesConfig","_a","state","displayMaxItems","setDisplayMaxItems","dictionary","useText","handleItemsLoading","uid","prev","handleItemsError","message","handleItemQuantityUpdate","item","quantity","updateProductsFromCart","error","handleMaxItemsView","useCallback","useEffect","cartDataEvent","events","payload","getImage","index","defaultImageProps","imageComponent","Image","Slot","getTitle","getConfiguration","configuration","getPriceProps","_b","_c","_d","getSavingsAmount","getTotalExcludingTax","Price","getTotalPriceProps","totalProps","discountProps","_e","_f","_g","_h","_i","_j","getWarning","quantityError","itemIsLoading","insufficientQuantityText","lowInventoryText","notAvailableQuantity","Icon","WarningWithCircle","getAlert","OrderError","getProductAttributes","getSku","getFooter","getCartItemEntries","filterCallback","defaultCartItem","CartItem","newQuantity","EmptyCart","headingSection","handleRemoveOutOfStockItems","outOfStockItems","outOfStockEntries","InLineAlert","CartList","mainProductEntries","numOfVisibleItems","hasHiddenItems","canDisplayMoreItems","footerActions","Button","productEntries","Accordion","ChevronRight","ChevronDown","AccordionSection","CartSummaryListComponent","getPersistedCartData"],"mappings":"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","x_google_ignoreList":[0]}