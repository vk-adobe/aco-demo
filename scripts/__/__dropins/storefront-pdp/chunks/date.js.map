{"version":3,"file":"date.js","sources":["/@dropins/storefront-pdp/src/lib/date.ts"],"sourcesContent":["/**\n * ADOBE CONFIDENTIAL\n * __________________\n * Copyright 2023 Adobe\n * All Rights Reserved.\n * __________________\n * NOTICE: All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n */\n\nimport { toLanguageTag } from '@adobe-commerce/elsie/lib';\n\nexport function toDateString(value: string, locale = 'en_US') {\n  if (!isDateValid(value)) throw Error('Invalid date string');\n\n  // normalize time to 00:00:00\n  const time = value.split(' ')[1];\n  if (!time) value = `${value} 00:00:00`;\n\n  return new Date(value).toLocaleDateString(toLanguageTag(locale)).toString();\n}\n\nexport function isDateValid(dateString: string) {\n  const acceptedFormats = [\n    /^\\d{4}-\\d{2}-\\d{2}$/, // YYYY-MM-DD\n    /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/, // MM/DD/YYYY\n    /^\\d{2}\\/\\d{2}\\/\\d{4}$/, // MM/DD/YYYY\n    /^\\d{4}\\/\\d{2}\\/\\d{2}$/, // YYYY/MM/DD\n    /^\\d{1,2}\\.\\d{1,2}\\.\\d{4}$/, // DD.MM.YYYY\n    /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/, // YYYY-MM-DD HH:mm:ss\n  ];\n\n  if (!acceptedFormats.some((format) => format.test(dateString))) return false;\n\n  const date = new Date(dateString);\n  return !isNaN(date.getTime());\n}\n"],"names":["toDateString","value","locale","isDateValid","toLanguageTag","dateString","format","date"],"mappings":"sDAkBgB,SAAAA,EAAaC,EAAeC,EAAS,QAAS,CAC5D,GAAI,CAACC,EAAYF,CAAK,EAAG,MAAM,MAAM,qBAAqB,EAI1D,OADaA,EAAM,MAAM,GAAG,EAAE,CAAC,IACZA,EAAA,GAAGA,CAAK,aAEpB,IAAI,KAAKA,CAAK,EAAE,mBAAmBG,EAAcF,CAAM,CAAC,EAAE,SAAS,CAC5E,CAEO,SAASC,EAAYE,EAAoB,CAU1C,GAAA,CAToB,CACtB,sBACA,4BACA,wBACA,wBACA,4BACA,uCACF,EAEqB,KAAMC,GAAWA,EAAO,KAAKD,CAAU,CAAC,EAAU,MAAA,GAEjE,MAAAE,EAAO,IAAI,KAAKF,CAAU,EAChC,MAAO,CAAC,MAAME,EAAK,SAAS,CAC9B"}